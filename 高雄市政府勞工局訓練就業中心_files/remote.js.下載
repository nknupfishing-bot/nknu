(function(g){var window=this;'use strict';var S1e=function(C,m){var L=C.get(m.uuid)||C.get(m.id);if(L)return C=L.name,L.id=m.id||L.id,L.name=m.name,L.token=m.token,L.uuid=m.uuid||L.uuid,L.name!=C;C.screens.push(m);return!0},Lp=function(C){if(g.V7.JSON)try{return g.V7.JSON.parse(C)}catch(m){}return UE7(C)},ZTr=function(C){DE4.call(this);
C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);var m=C.__sm__;m?this.data=(this.T=g.SQ(m))?g.Mu(m,this.T):m:this.data=C},RFe=function(C,m){var L=parseInt(m.params.currentTime||m.params.current_time,10);
ho(C.T,isNaN(L)?0:L);L=parseInt(m.params.state,10);L=isNaN(L)?-1:L;L==-1&&C.T.playerState==-1E3&&(L=-1E3);C.T.playerState=L;L=Number(m.params.loadedTime);C.T.loadedTime=isNaN(L)?0:L;C.T.pG(Number(m.params.duration));L=C.T;var h=Number(m.params.liveIngestionTime);L.T=h;L.V=isNaN(h)?!1:!0;L=C.T;h=Number(m.params.seekableStartTime);m=Number(m.params.seekableEndTime);L.L=isNaN(h)?0:h;L.S=isNaN(m)?0:m;C.T.playerState==1?kZz(C):jmC(C);C.publish("remotePlayerChange")},Qme=function(C,m){C.C=m.params.autoplayMode;
C.publish("autoplayModeChange",C.C);C.C=="DISABLED"&&C.publish("autoplayDismissed")},VP=function(C,m,L){Array.isArray(L)||(L=[String(L)]);
g.tER(C.V,m,L)},S8=function(C,m){g.T.call(this);
this.T=new g.u4(this.FVA,0,this);g.l(this,this.T);this.U_=5E3;this.HX=0;if(typeof C==="function")m&&(C=(0,g.eW)(C,m));else if(C&&typeof C.handleEvent==="function")C=(0,g.eW)(C.handleEvent,C);else throw Error("Invalid listener argument");this.L=C},gIJ=function(C){var m=U9();
DW(null);C||GZ4("");g.Vy("yt.mdx.remote.connection_",C);ZW&&(g.Gl(ZW,function(L){L(C)}),ZW.length=0);
m&&!C?k5("yt-remote-connection-change",!1):!m&&C&&k5("yt-remote-connection-change",!0)},Ai8=function(){var C=j8();
this.T=C;C.f5("/client_streamz/youtube/living_room/mdx/channel/error",g.I_("channel_type"),g.I_("error_type"))},QP=function(C,m){g.SK.call(this);
var L=this;this.G=0;this.V=C;this.N=[];this.C=new riz;this.L=this.T=null;this.QL=(0,g.eW)(this.KWA,this);this.S=(0,g.eW)(this.Q_,this);this.Y=(0,g.eW)(this.nu5,this);this.zT=(0,g.eW)(this.jHx,this);var h=0;C?(h=C.getProxyState(),h!=3&&(C.subscribe("proxyStateChange",this.ZJ,this),pc8(this))):h=3;h!=0&&(m?this.ZJ(h):g.FW(function(){L.ZJ(h)},0));
(C=nIr())&&RJ(this,C);this.subscribe("yt-remote-cast2-session-change",this.zT)},lq2=function(){var C=JiQ();
if(g.Ip(C)){C=GS();var m=g.BD("yt-remote-session-name")||"",L=g.BD("yt-remote-session-app")||"";C={device:"REMOTE_CONTROL",id:C,name:m,app:L,mdxVersion:3};C.authuser=String(g.Wl("SESSION_INDEX","0"));(m=g.Wl("DELEGATED_SESSION_ID"))&&(C.pageId=String(m));g.Vy("yt.mdx.remote.channelParams_",C)}},aqJ=function(C,m){var L=!1;
gB()||(C=new Ao(C,m),C.subscribe("yt-remote-cast2-availability-change",function(h){g.cN("yt-remote-cast-available",h);k5("yt-remote-cast2-availability-change",h)}),C.subscribe("yt-remote-cast2-receiver-selected",function(h){rB("onReceiverSelected: "+h.friendlyName);
g.cN("yt-remote-cast-receiver",h);k5("yt-remote-cast2-receiver-selected",h)}),C.subscribe("yt-remote-cast2-receiver-resumed",function(h){rB("onReceiverResumed: "+h.friendlyName);
g.cN("yt-remote-cast-receiver",h);k5("yt-remote-cast2-receiver-resumed",h)}),C.subscribe("yt-remote-cast2-session-change",function(h){rB("onSessionChange: "+pp(h));
h||g.AT("yt-remote-cast-receiver");k5("yt-remote-cast2-session-change",h)}),g.Vy("yt.mdx.remote.cloudview.instance_",C),L=!0);
rB("cloudview.createSingleton_: "+L);return L},oI4=function(C,m){var L=[];
eFr(m,function(h){try{var V=g.ib.prototype.Or.call(this,h,!0)}catch(S){if(S=="Storage: Invalid value was encountered")return;throw S;}V===void 0?L.push(h):g.g3V(V)&&L.push(h)},C);
return L},np=function(C){C=C||{};
this.name=C.name||"";this.id=C.id||C.screenId||"";this.token=C.token||C.loungeToken||"";this.uuid=C.uuid||C.dialId||"";this.idType=C.screenIdType||"normal";this.secret=C.screenIdSecret||""},WGW=function(C,m){return C===m},iT4=function(C,m,L){C.nt=L;
C.player.publish("presentingplayerstatechange",new g.xd(L,m))},xE7=function(C,m){var L=m.params.muted=="true";
C.T.volume=parseInt(m.params.volume,10);C.T.muted=L;C.publish("remotePlayerChange")},Plz=function(C){C.Xq!=null&&(g.V7.clearTimeout(C.Xq),C.Xq=null)},fq7=function(C,m){g.Cv(C.C);
C.C=0;var L=null;if(m)if(m.loungeToken){var h;((h=C.T)==null?void 0:h.token)==m.loungeToken&&(L="staleLoungeToken")}else L="missingLoungeToken";else L="noLoungeTokenResponse";L?(C.info("Did not receive a new lounge token in onLoungeToken_ with data: "+(JSON.stringify(m)+", error: "+L)),C.QL=L,BnJ(C,3E4)):(vIz(C,m.loungeToken),C.gY=!1,C.QL="unknown",BnJ(C,m.loungeTokenRefreshIntervalMs))},l2=function(C){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new Jo;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";C&&(this.id=C.id||C.name,this.name=C.name,this.clientName=C.clientName?C.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=C.app,this.type=C.type||"REMOTE_CONTROL",this.username=C.user||"",this.avatar=C.userAvatarUri||"",this.obfuscatedGaiaId=C.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=C.ownerObfuscatedGaiaId||"",this.theme=C.theme||"u",t_C(this,C.capabilities||""),TnW(this,C.compatibleSenderThemes||""),yi2(this,C.experiments||""),this.brand=C.brand||"",this.model=C.model||"",this.year=C.year||0,this.os=C.os||"",this.osVersion=C.osVersion||"",this.chipset=C.chipset||"",this.mdxDialServerType=C.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",C=C.deviceInfo)&&(C=JSON.parse(C),this.brand=C.brand||"",this.model=C.model||"",this.year=C.year||0,this.os=C.os||"",this.osVersion=C.osVersion||"",this.chipset=C.chipset||"",this.clientName=C.clientName?C.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=C.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},M_7=function(C,m){var L=new aJ;
if(g.V7.Image){var h=new Image;h.onload=g.LZ(e8,L,"TestLoadImage: loaded",!0,m,h);h.onerror=g.LZ(e8,L,"TestLoadImage: error",!1,m,h);h.onabort=g.LZ(e8,L,"TestLoadImage: abort",!1,m,h);h.ontimeout=g.LZ(e8,L,"TestLoadImage: timeout",!1,m,h);g.V7.setTimeout(function(){if(h.ontimeout)h.ontimeout()},1E4);
h.src=C}else m(!1)},q1r=function(){var C=j8();
this.T=C;C.f5("/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")},JiQ=function(){return g.Aw("yt.mdx.remote.channelParams_")||{}},TnW=function(C,m){C.compatibleSenderThemes.clear();
g.wt(m.split(","),g.LZ(cir,HTQ)).forEach(function(L){C.compatibleSenderThemes.add(L)})},FG4=function(C){C.C=C.V.Ka(C.Xq,C.L.label,C.L.friendlyName,oJ(C),function(m,L){C.C=function(){};
C.TT=!0;Ws(C,m);m.idType=="shortLived"&&L>0&&i2(C,L)},function(m){C.C=function(){};
C.Km(m)})},Xce=function(C,m){C.S=m.params.videoId||null;
C.publish("autoplayUpNext",C.S)},x5=function(C){if(g.tb("deprecate_pair_servlet_enabled"))return Y1r(C,[]);
var m=dEJ(wc4());m=g.wt(m,function(L){return!L.uuid});
return Y1r(C,m)},Bs=function(C,m,L,h){Ps.call(this,C,m,"DialSession");
this.config_=h;this.G=this.Y=null;this.Xq="";this.rY=L;this.eA=null;this.zT=function(){};
this.QL=NaN;this.kN=(0,g.eW)(this.z_,this);this.C=function(){};
this.S=this.N=0;this.TT=!1;this.gY="unknown"},KG2=function(){var C=j8();
this.T=C;C.f5("/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")},OTz=function(){},NnW=function(C){vs.call(this,"ScreenServiceProxy");
this.sZ=C;this.T=[];this.T.push(this.sZ.$_s("screenChange",(0,g.eW)(this.RX,this)));this.T.push(this.sZ.$_s("onlineScreenChange",(0,g.eW)(this.csY,this)))},EI7=function(C,m,L){var h=fp(C.C,"/pairing/get_screen_availability");
C.C.sendRequest("POST",h,{lounge_token:m.token},(0,g.eW)(function(V){V=V.screens||[];for(var S=V.length,U=0;U<S;++U)if(V[U].loungeToken==m.token){L(V[U].status=="online");return}L(!1)},C),(0,g.eW)(function(){L(!1)},C))},to=function(C){g.AZ(C,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.NY()).toString(36));
return C},zFW=function(C,m,L){var h=TS(C);
ho(h,L);h.playerState!=-1E3&&(h.playerState=m);yP(C,h)},Iqz=function(C){C.mW(0);
C.L.stop();C.l2(new g.u_(64))},sm4=function(C){return new np(C)},bT7=function(C){var m=0,L;
for(L in C)m++;return m},Cv4=function(C,m,L){C.info("initOnConnectedScreenDataPromise_: Received screenData: "+JSON.stringify(m));
var h=new np(m);return(new Promise(function(V){uyW(C,h,function(S){S?(C.TT=!0,M9(C.V,h),Ws(C,h),i2(C,L)):g.XW(Error("DialSession, RemoteScreen from screenData: "+JSON.stringify(m)+" is not online."));V(S)},5)})).then(function(V){return V?new chrome.cast.DialLaunchResponse(!1):$E2(C)})},RJ=function(C,m){C.L&&(C.L.removeUpdateListener(C.QL),C.L.removeMediaListener(C.S),C.Q_(null));
C.L=m;C.L&&(q9("Setting cast session: "+C.L.sessionId),C.L.addUpdateListener(C.QL),C.L.addMediaListener(C.S),C.L.media.length&&C.Q_(C.L.media[0]))},mc8=function(){rB("clearCurrentReceiver");
g.AT("yt-remote-cast-receiver")},LVC=function(){},hs7=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},Va4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(C){var m=Math.random()*16|0;
return(C=="x"?m:m&3|8).toString(16)})},SOJ=function(C,m){gB().init(C,m)},Zi4=function(C,m,L){g.T.call(this);
var h=this;this.T=C;this.J=m;this.Hl=L;this.events=new g.JW(this);this.C=!1;this.N=new g.u_(64);this.L=new g.u4(this.D_,500,this);this.G=new g.u4(this.N5,1E3,this);this.Y=new cs(this.QQx,0,this);this.V={};this.QL=new g.u4(this.Sr,1E3,this);this.S=new g.qy(this.seekTo,1E3,this);this.zT=this.events.K(this.J,"onVolumeChange",function(V){UcW(h,V)});
g.l(this,this.events);this.events.K(m,"onCaptionsTrackListChanged",this.kKL);this.events.K(m,"captionschanged",this.f1q);this.events.K(m,"captionssettingschanged",this.n3);this.events.K(m,"videoplayerreset",this.H6);this.events.K(m,"mdxautoplaycancel",function(){h.Hl.Bj()});
m.D("enable_mdx_video_play_directly")&&this.events.K(m,"videodatachange",function(){Dcl(h.T)||Hs(h)||F_(h,0)});
C=this.Hl;C.bL();C.subscribe("proxyStateChange",this.fB,this);C.subscribe("remotePlayerChange",this.Rz,this);C.subscribe("remoteQueueChange",this.H6,this);C.subscribe("previousNextChange",this.Sf,this);C.subscribe("nowAutoplaying",this.Am,this);C.subscribe("autoplayDismissed",this.ge,this);g.l(this,this.L);g.l(this,this.G);g.l(this,this.Y);g.l(this,this.QL);g.l(this,this.S);this.n3();this.H6();this.Rz()},jal=function(C,m,L,h){g.Cv(C.N);
C.N=0;kL4(C.V,m,function(V){V||h<0?L(V):C.N=g.FW(function(){jal(C,m,L,h-1)},300)})},kZz=function(C){jmC(C);
C.TT=g.FW(function(){X_(C,"getNowPlaying")},2E4)},A8r=function(){Rs4();
var C=Qa4();C.push.apply(C,g.Hn(GL2.map(gRz)));C.push("//www.gstatic.com/eureka/clank/cast_sender.js");Y5(C)},r82=function(C){var m={};
g.Gl(C.N(),function(L){L.token?m[L.token]=L.id:this.G0("Requesting availability of screen w/o lounge token.")});
return m},vIz=function(C,m){C.T&&(C.T.token=m,M9(C.V,C.T));
C.publish("sessionScreen",C.T)},nR2=function(C){C.length>5&&(C=C.slice(C.length-5));
var m=g.y0(wc4(),function(h){return h.loungeToken}),L=g.y0(C,function(h){return h.loungeToken});
g.LE(L,function(h){return!g.d7(m,h)})&&puz();
g.cN("yt-remote-local-screens",C,31536E3)},J8z=function(){var C=j8();
this.T=C;C.f5("/client_streamz/youtube/living_room/mdx/channel/closed",g.I_("channel_type"))},dB=function(){},Kp=function(C){if(C.size!=C.T.length){for(var m=0,L=0;m<C.T.length;){var h=C.T[m];
wB(C.L,h)&&(C.T[L++]=h);m++}C.T.length=L}if(C.size!=C.T.length){m={};for(h=L=0;L<C.T.length;){var V=C.T[L];wB(m,V)||(C.T[h++]=V,m[V]=1);L++}C.T.length=h}},l0C=function(C,m){return g.cl(C,function(L){return L||m?!L!=!m?!1:L.id==m.id:!0})},esz=function(C){C.a9=0;
C.Co=[];if(C.C){var m=a07(C.L);if(m.length!=0||C.G.length!=0)g.qi(C.Co,m),g.qi(C.Co,C.G),C.L.G.length=0,g.dt(C.G),C.G.length=0;C.C.A3()}},ii4=function(C,m){var L=C.S,h=m.indexOf("\n",L);
if(h==-1)return oR2;L=Number(m.substring(L,h));if(isNaN(L))return WV8;h+=1;if(h+L>m.length)return oR2;m=m.slice(h,h+L);C.S=h+L;return m},fp=function(C,m){var L=C.T;
C.L&&(L=C.scheme+"://"+C.domain+C.port+C.T);return g.Ul(L+m,{})},xcz=function(){this.G=null;
this.T="";this.L=!1},DE4=function(){g.uv.call(this,"p")},BtW=function(C){C.eA&&!C.C&&Pve(C,C.eA())},vR7=function(){g.uv.call(this,"o")},f0e=function(C){if(C.screens.length){var m=g.y0(C.screens,function(h){return h.id}),L=fp(C.L,"/pairing/get_lounge_token_batch");
C.L.sendRequest("POST",L,{screen_ids:m.join(",")},(0,g.eW)(C.MA4,C),(0,g.eW)(C.SxQ,C))}},TtW=function(){ta4();
return O9?!!O9.get("yt-remote-use-staging-server"):!1},y87=function(){var C=j8();
this.T=C;C.f5("/client_streamz/youtube/living_room/mdx/channel/opened",g.I_("channel_type"))},yi2=function(C,m){C.experiments.clear();
m.split(",").forEach(function(L){C.experiments.add(L)})},Ma7=function(C){C.N=g.FW(function(){N9("Connecting timeout");
C.dF(1)},2E4)},qOW=function(C){C.player.getPlayerStateObject().isPlaying()?C.player.pauseVideo():(C.AE=function(m){!C.tE&&g.lE(m,8)&&(C.player.pauseVideo(),E9(C))},C.player.addEventListener("presentingplayerstatechange",C.AE));
C.AF&&C.AF.Mr();U9()||(zS=!0)},Xuz=function(){var C=c8F;
Hi7();IJ.push(C);FVr()},s9=function(){var C=g.BD("yt-remote-connected-devices")||[];
g.BN(C);return C},b2=function(C){C.T&&(Plz(C),C.T.cancel(),C.T=null)},Rs4=function(){if(YO4){var C=2,m=hs7(),L=function(){C--;
C==0&&m&&m(!0)};
window.__onGCastApiAvailable=L;dc2("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",wu4,L)}},KVz=function(C){C.T=0;
C.Oj=-1;if(C.W8)if(C.G.length==0&&C.L.length==0)C.W8.NV();else{var m=g.dt(C.G),L=g.dt(C.L);C.G.length=0;C.L.length=0;C.W8.NV(m,L)}},Oi4=function(C,m){var L=new aJ,h=new AbortController,V=setTimeout(function(){h.abort();
e8(L,"TestPingServer: timeout",!1,m)},1E4);
fetch(C,{signal:h.signal}).then(function(S){clearTimeout(V);S.ok?e8(L,"TestPingServer: ok",!0,m):e8(L,"TestPingServer: server error",!1,m)}).catch(function(){clearTimeout(V);
e8(L,"TestPingServer: error",!1,m)})},aJ=function(){},u2=function(C,m){g.Od.call(this,"\u64ad\u653e\u87a2\u5e55\uff1a",1,C,m);
this.J=C;this.HW={};this.K(C,"onMdxReceiversChange",this.L);this.K(C,"presentingplayerstatechange",this.L);this.L()},Nte=function(C,m,L,h){var V=new g.Az(null);
C&&g.rw(V,C);m&&g.pH(V,m);L&&g.nH(V,L);h&&(V.L=h);return V},ERF=function(C,m){var L=m.params.hasNext=="true";
C.T.hasPrevious=m.params.hasPrevious=="true";C.T.hasNext=L;C.publish("previousNextChange")},CU=function(C){$5.dispatchEvent(new zsl($5,C))},mB=function(C){var m=I0r();
m.dispatchEvent(new saW(m,C))},rB=function(C){LU("cloudview",C)},hm=function(C){this.T=C},bir=function(C){return{name:C.name,
screenId:C.id,loungeToken:C.token,dialId:C.uuid,screenIdType:C.idType,screenIdSecret:C.secret}},uOJ=function(){var C=j8();
this.T=C;C.f5("/client_streamz/youtube/living_room/mdx/channel/success")},$c4=function(C){C=g.K7(g.Ue(C.T,function(m){return m}));
g.BN(C);C.length?g.cN("yt-remote-online-screen-ids",C.join(","),60):g.AT("yt-remote-online-screen-ids")},wu4=function(){var C=hs7();
C&&C(!1,"No cast extension found")},VC=function(C){C.zT!=null&&(g.V7.clearTimeout(C.zT),C.zT=null)},CN4=function(C,m){this.T=C;
this.map=m;this.context=null},mF8=function(C){return g.y0(C,function(m){return{key:m.id,
name:m.name}})},ta4=function(){if(!O9){var C=g.IP();
C&&(O9=new g.tj(C))}},Lme=function(C){return g.qD(C.rY().then(function(m){Pve(C,m)}).z4(function(){}),function(){C.LP=null})},h3z=function(C){g.uv.call(this,"statevent",C)},wc4=function(){return g.BD("yt-remote-local-screens")||[]},Vv2=function(C,m){return C.L?C.L==m:C.T?C.T.has(m):!1},SH=function(C,m,L){m!=C.T&&(g.hx(C.T),(C.T=m)?(L?C.publish("yt-remote-cast2-receiver-resumed",m.L):C.publish("yt-remote-cast2-receiver-selected",m.L),m.subscribe("sessionScreen",(0,g.eW)(C.jf,C,m)),m.subscribe("sessionFailed",
function(){return SX7(C,m)}),m.T?C.publish("yt-remote-cast2-session-change",m.T):L&&C.T.PQ(null)):C.publish("yt-remote-cast2-session-change",null))},UFC=function(C){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+C)!=-1||document.currentScript.src.indexOf("&"+C)!=-1)},DF4=function(){var C=g.$u().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.F$||C},ZoC=function(C){return C.L?!0:C.T?C.T.size>=C.V:!1},jmC=function(C){g.Cv(C.TT);
C.TT=NaN},kJW=function(C){var m=C.gY();
m?C.V["x-youtube-lounge-xsrf-token"]=m:delete C.V["x-youtube-lounge-xsrf-token"]},R3z=function(C,m){C.n8=Date.now();
jir(C);C.SH=C.Zg.clone();VP(C.SH,"t",C.N);C.ip=0;C.qo=C.T.rV(C.T.K8()?m:null);C.qV>0&&(C.wQ=new g.qy((0,g.eW)(C.Dr,C,C.qo),C.qV));C.G.listen(C.qo,"readystatechange",C.vA);m=C.Kq?g.ne(C.Kq):{};C.aF?(C.cH="POST",m["Content-Type"]="application/x-www-form-urlencoded",C.qo.send(C.SH,C.cH,C.aF,m)):(C.cH="GET",C.T5&&!g.TH&&(m.Connection="close"),C.qo.send(C.SH,C.cH,null,m));C.T.xH(1)},Un=function(C){C.G.aP()||C.kN||QiJ(C.G,C)},AJW=function(C,m){var L=C.ip,h=m.indexOf("\n",L);
if(h==-1)return GJW;L=Number(m.substring(L,h));if(isNaN(L))return gx2;h+=1;if(h+L>m.length)return GJW;m=m.slice(h,h+L);C.ip=h+L;return m},saW=function(C){g.uv.call(this,"serverreachability",C)},rJz=function(){this.T=new dB},BnJ=function(C,m){g.Cv(C.S);
C.S=0;m==0?pn4(C):C.S=g.FW(function(){pn4(C)},m)},Y5=function(C){C.length?dc2(C.shift(),function(){Y5(C)}):wu4()},nxW=function(C){C.zT&&(g.V7.clearTimeout(C.zT),C.zT=null)},JJl=function(C,m){var L=m.params.videoId;
delete m.params.videoId;L==C.T.videoId&&(g.Ip(m.params)?C.T.trackData=null:C.T.trackData=m.params,C.publish("remotePlayerChange"))},Z$=function(C,m,L){return(0,g.eW)(function(h){this.G0("Failed to "+m+" with cast v2 channel. Error code: "+h.code);
h.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.G0("Retrying "+m+" using MDx browser channel."),D$(this,m,L))},C)},j8=function(){if(!kl){kl=new g.Ol(new lFz);
var C=g.Vk("client_streamz_web_flush_count",-1);C!==-1&&(kl.G=C)}return kl},aFz=function(C,m,L,h,V){C.M3=1;
C.Zg=to(m.clone());C.aF=null;C.LP=L;V&&(C.T5=!1);R3z(C,h)},UcW=function(C,m){if(Hs(C)){C.Hl.unsubscribe("remotePlayerChange",C.Rz,C);
var L=Math.round(m.volume);m=!!m.muted;var h=TS(C.Hl);if(L!==h.volume||m!==h.muted)C.Hl.setVolume(L,m),C.QL.start();C.Hl.subscribe("remotePlayerChange",C.Rz,C)}},cir=function(C,m){return g.IG(C,m)},oxC=function(C,m){var L=(Date.now()-e38)/1E3;
L.toFixed&&(L=L.toFixed(3));var h=[];h.push("[",L+"s","] ");h.push("[","yt.mdx.remote","] ");h.push(C+": "+m,"\n");return h.join("")},WmF=function(C){this.C=C||10;
g.V7.PerformanceNavigationTiming?(C=g.V7.performance.getEntriesByType("navigation"),C=C.length>0&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(g.V7.chrome&&g.V7.chrome.loadTimes&&g.V7.chrome.loadTimes()&&g.V7.chrome.loadTimes().wasFetchedViaSpdy);this.V=C?this.C:1;this.T=null;this.V>1&&(this.T=new Set);this.L=null;this.G=[]},xF4=function(){var C=s9(),m=GS();
g.Wy()&&g.RN(C,m);C=ioe(C);if(C.length==0)try{g.a8H("remote_sid")}catch(L){}else try{g.$g("remote_sid",C.join(","),-1)}catch(L){}},PNr=function(C){C.oM&&(g.V7.clearTimeout(C.oM),C.oM=null)},BzW=function(C,m){C.info("sendYoutubeMessage_: "+m+" "+g.Sz());
var L={};L.type=m;C.G?C.G.sendMessage("urn:x-cast:com.google.youtube.mdx",L,function(){},(0,g.eW)(function(){jH(this,"Failed to send message: "+m+".")},C)):jH(C,"Sending yt message without session: "+g.Sz(L))},vx4=function(C,m){try{C.T.NZ(C,m),C.T.xH(4)}catch(L){}},Tz8=function(C,m){if(fFW(C.L)>=C.L.V-(C.N?1:0))return!1;
if(C.N)return C.G=m.TT.concat(C.G),!0;if(C.a9==1||C.a9==2||C.gY>=(C.eZ?0:C.B0))return!1;C.N=RZ((0,g.eW)(C.r8,C,m),tvW(C,C.gY));C.gY++;return!0},yJF=function(C,m,L){C.info("onConnectedScreenData_: Received screenData: "+JSON.stringify(m));
var h=new np(m);jal(C,h,function(V){V?(C.gY=!0,M9(C.V,h),Ws(C,h),C.QL="unknown",BnJ(C,L)):(g.XW(Error("CastSession, RemoteScreen from screenData: "+JSON.stringify(m)+" is not online.")),C.Km())},5)},MvF=function(C){C.T.aP()||C.f8||C.T.tG(C)},qXF=function(C){QC("remote.onCastSessionChange_: "+pp(C));
if(C){var m=Gy();if(m&&m.id==C.id){if(gQ(m.id,"YouTube TV"),C.idType=="shortLived"&&(C=C.token))Am&&(Am.token=C),(m=U9())&&m.AR(C)}else m&&rQ(),pU(C,1)}else U9()&&rQ()},nU=function(C){C.onload=null;
C.onerror=null;C.onabort=null;C.ontimeout=null},Jm=function(){if(!cJQ){var C=g.Aw("yt.mdx.remote.screenService_");
cJQ=C?new NnW(C):null}return cJQ},U9=function(){return g.Aw("yt.mdx.remote.connection_")},jir=function(C){C.pR=Date.now()+C.L;
HoF(C,C.L)},aZ=function(C,m,L){var h=g.OX(L);
if(h.T!="")m&&g.pH(h,m+"."+h.T),g.nH(h,h.G);else{var V=window.location;h=Nte(V.protocol,m?m+"."+V.hostname:V.hostname,+V.port,L)}C.vV&&g.Kt(C.vV,function(S,U){g.AZ(h,U,S)});
g.AZ(h,"VER",C.Wx);lM(C,h);return h},FmF=function(C,m){g.d7(C,m)||C.push(m)},RZ=function(C,m){if(typeof C!=="function")throw Error("Fn must not be null and must be a function");
return g.V7.setTimeout(function(){C()},m)},Xn4=function(C,m){var L=5E3+Math.floor(Math.random()*1E4);
C.isActive()||(L*=2);return L*m},YXe=function(C,m){oI4(C,m).forEach(function(L){g.ib.prototype.remove.call(this,L)},C)},dFz=function(C,m){this.action=C;
this.params=m||{}},lFz=function(){},Oo4=function(C,m){if(C.T==0)throw Error("Invalid operation: sending map when state is closed");
C.L.push(new wnJ(C.a5++,m));C.T!=2&&C.T!=3||Kml(C)},Nz8=function(C,m){if(m){var L=C.J.getOption("captions","tracklist",{fh:1});
L&&L.length?(C.J.setOption("captions","track",m),C.C=!1):(C.J.loadModule("captions"),C.C=!0)}else C.J.setOption("captions","track",{})},Pve=function(C,m){if(C.T){var L=C.T.wU||{};
m&&Object.keys(m).length>0?L=Object.assign({},L,m):delete L.Authorization;C.T.wU=L}},uar=function(C,m){try{var L=C.G;
if(L.a9!=0&&(L.T==C||Vv2(L.L,C)))if(!C.D5&&Vv2(L.L,C)&&L.a9==3){try{var h=L.r0.T.parse(m)}catch(W){h=null}if(Array.isArray(h)&&h.length==3){var V=h;if(V[0]==0)a:{if(!L.Y){if(L.T)if(L.T.gY+3E3<C.gY)VC(L),b2(L);else break a;ExW(L);eH(18)}}else L.P_=V[1],0<L.P_-L.rY&&V[2]<37500&&L.dY&&L.TT==0&&!L.zT&&(L.zT=RZ((0,g.eW)(L.ZZ,L),6E3));if(fFW(L.L)<=1&&L.lV){try{L.lV()}catch(W){}L.lV=void 0}}else oZ(L,11)}else if((C.D5||L.T==C)&&VC(L),!g.$C(m))for(V=L.r0.T.parse(m),m=0;m<V.length;m++){var S=V[m],U=S[0];if(!(U<=
L.rY))if(L.rY=U,S=S[1],L.a9==2)if(S[0]=="c"){L.V=S[1];L.Bl=S[2];var Z=S[3];Z!=null&&(L.kR=Z);var k=S[5];k!=null&&typeof k==="number"&&k>0&&(L.nP=1.5*k);h=L;var R=C.f6();if(R){var Q=g.Ft(R,"X-Client-Wire-Protocol");if(Q){var G=h.L;!G.T&&(g.Ap(Q,"spdy")||g.Ap(Q,"quic")||g.Ap(Q,"h2"))&&(G.V=G.C,G.T=new Set,G.L&&(z32(G,G.L),G.L=null))}if(h.LP){var A=g.Ft(R,"X-HTTP-Session-Id");A&&(h.B_=A,g.AZ(h.eA,h.LP,A))}}L.a9=3;L.C&&L.C.J3();L.Wl&&(L.hU=Date.now()-C.gY);h=L;var r=C;h.Sl=IF7(h,h.D5?h.Bl:null,h.I3);
if(r.D5){si8(h.L,r);var p=r,a=h.nP;a&&p.setTimeout(a);p.zT&&(nxW(p),WE(p));h.T=r}else boC(h);L.G.length>0&&iM(L)}else S[0]!="stop"&&S[0]!="close"||oZ(L,7);else L.a9==3&&(S[0]=="stop"||S[0]=="close"?S[0]=="stop"?oZ(L,7):L.disconnect():S[0]!="noop"&&L.C&&L.C.mH(S),L.TT=0)}mB(4)}catch(W){}},xl=function(C){this.scheme="https";
this.port=this.domain="";this.T="/api/lounge";this.L=!0;C=C||document.location.href;var m=Number(g.Kv(C)[4]||null)||"";m&&(this.port=":"+m);this.domain=g.oi(C)||"";C=g.$u();C.search("MSIE")>=0&&(C=C.match(/MSIE ([\d.]+)/)[1],g.pw(C,"10.0")<0&&(this.L=!1))},$FJ=function(C){return Array.isArray(C)?"["+g.y0(C,pp).join(",")+"]":"null"},Lpz=function(C,m,L,h,V){Ck4(C);
if(C.T){var S=g.Wl("ID_TOKEN"),U=C.T.wU||{};S?U["x-youtube-identity-token"]=S:delete U["x-youtube-identity-token"];C.T.wU=U}BtW(C);h?(h.getState()!=3&&mar(h)==0||h.getState(),C.T.connect(m,L,C.TT,h.V,h.zf)):V?C.T.connect(m,L,C.TT,V.sessionId,V.arrayId):C.T.connect(m,L,C.TT);C.N&&!C.L.isActive()&&C.L.start()},hcz=function(C){this.T=C;
this.L=new dB},VW4=function(C){if(C.lV){if(C.lV.locationOverrideToken)return{locationOverrideToken:C.lV.locationOverrideToken};
if(C.lV.latitudeE7!=null&&C.lV.longitudeE7!=null)return{latitudeE7:C.lV.latitudeE7,longitudeE7:C.lV.longitudeE7}}return null},ExW=function(C){if(C.T||C.Y||C.TT>=3)return!1;
C.AI++;C.Y=RZ((0,g.eW)(C.bN,C),tvW(C,C.TT));C.TT++;return!0},Sd8=function(C,m,L){for(var h=0;h<L;++h)Oo4(C.T,m[h]);
PE(C)},z32=function(C,m){C.T?C.T.add(m):C.L=m},UaC=function(){var C=j8();
this.T=C;C.f5("/client_streamz/youtube/living_room/mdx/channel/message_received",g.I_("channel_type"))},BE=function(C){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.C=this.N=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.G=this.S=this.L=0;this.T=NaN;this.V=!1;this.reset(C)},M9=function(C,m){var L=C.get(m.id);
L?(L.uuid=m.uuid,m=L):((L=vE(C.G,m.uuid))?(L.id=m.id,L.token=m.token,m=L):C.G.push(m),C.S||Da8(C));ZKQ(C);C.C[m.uuid]=m.id;g.cN("yt-remote-device-id-map",C.C,31536E3);return m},fU=function(C,m){return!!m&&(C.id==m||C.uuid==m)},t_C=function(C,m){C.capabilities.clear();
g.wt(m.split(","),g.LZ(cir,kQ7)).forEach(function(L){C.capabilities.add(L)})},RcW=function(C){if(!j8J(C))return g.kz(C.T);
var m=g.Fv(C.T);if(m==="")return"";var L="",h=m.length,V=g.Wr(C.T)==4;if(!C.L.G){if(typeof TextDecoder==="undefined")return tm(C),Un(C),"";C.L.G=new g.V7.TextDecoder}for(var S=0;S<h;S++)C.L.L=!0,L+=C.L.G.decode(m[S],{stream:!(V&&S==h-1)});m.length=0;C.L.T+=L;C.S=0;return C.L.T},Q84=function(C,m,L,h,V){g.SK.call(this);
this.G=C;this.S=m;this.V=L;this.N=h;this.C=V;this.L=0;this.T=null;this.IH=NaN},FVr=function(){var C=IJ;
if(Ty[0]){var m=yC?MB:-1,L={};do L={S2:void 0},m=(m+1)%50,L.S2=Ty[m],g.Gl(C,function(h){return function(V){V(h.S2)}}(L));
while(m!=MB);Ty=Array(50);MB=-1;yC=!1}},Ws=function(C,m){C.T=m;
C.publish("sessionScreen",C.T)},GQz=function(C,m){if(Hs(C)&&!C.C){var L=null;
m&&(L={style:C.J.getSubtitlesUserSettings()},Object.assign(L,m));C.Hl.a7(C.J.getVideoData(1).videoId,L);C.V=TS(C.Hl).trackData}},gAW=function(C,m,L,h){g.uv.call(this,"timingevent",C);
this.size=m;this.rtt=L;this.retries=h},qB=function(){return!!g.Aw("yt.mdx.remote.cloudview.apiReady_")},GS=function(){if(Ahz)return Ahz;
var C=g.BD("yt-remote-device-id");C||(C=Va4(),g.cN("yt-remote-device-id",C,31536E3));for(var m=s9(),L=1,h=C;g.d7(m,h);)L++,h=C+"#"+L;return Ahz=h},rhe=function(C,m){if(C.zT!=null)throw Error("WatchDog timer not null");
C.zT=RZ((0,g.eW)(C.im,C),m)},lD4=function(C,m){return C.RH?!0:C.Ux?Object.values(pvW).includes(m):C.lV?!Object.values(nA4).includes(m):C.Et?Object.values(Jh8).includes(m):!1},j8J=function(C){return C.T?C.Xq=="GET"&&C.rY!=2&&C.G.hs:!1},F_=function(C,m){var L=C.J.getPlaylist();
if(L==null?0:L.listId){var h=L.index;var V=L.listId.toString()}L=C.J.getVideoData(1);C.Hl.playVideo(L.videoId,m,h,V,L.playerParams,L.zT,VW4(L));C.l2(new g.u_(1))},Dcl=function(C){var m=C.player.W();
return!m.D("mdx_enable_privacy_disclosure_ui")||C.isLoggedIn()||C.tE||!C.AF?!1:g.gR(m)||g.vc(m)},Gy=function(){var C=cE();
if(!C)return null;var m=Jm().TE();return vE(m,C)},aDr=function(C){g.Gl(C.N,function(m){this.V.unsubscribeByKey(m)},C);
C.N.length=0},HoF=function(C,m){if(C.oM!=null)throw Error("WatchDog timer not null");
C.oM=HE((0,g.eW)(C.Ke,C),m)},zsl=function(C){g.uv.call(this,"statevent",C)},gQ=function(C,m){qB()?gB().setConnectedScreenStatus(C,m):Fp("setConnectedScreenStatus called before ready.")},ecz=function(C,m,L){if(m&&!C.D5)throw Error("Can't create secondary domain capable XhrIo object.");
m=C.hs&&!C.UZ?new g.An(new g.rp({i8:L})):new g.An(C.UZ);m.S=C.D5;return m},vs=function(C){g.SK.call(this);
this.N=C;this.screens=[]},oA2=function(C){if(C.a9==0)return C.Co;
var m=[];g.qi(m,a07(C.L));g.qi(m,C.G);return m},jH=function(C,m){LU(C.LP,m)},xaW=function(C){g.DC(C.channel,"m",function(){C.N=3;
C.G.reset();C.Y=null;C.S=0;for(var m=g.H(C.TT),L=m.next();!L.done;L=m.next())L=L.value,C.channel&&C.channel.send(L);C.TT=[];C.publish("webChannelOpened");C.eA.w3("WEB_CHANNEL")});
g.DC(C.channel,"n",function(){C.N=0;C.G.isActive()||C.publish("webChannelClosed");var m,L=(m=C.channel)==null?void 0:Wp4(new iKr(m,m.T));L&&(C.TT=[].concat(g.Hn(L)));C.Xq.w3("WEB_CHANNEL")});
g.DC(C.channel,"p",function(m){var L=m.data;L[0]==="gracefulReconnect"?(C.G.start(),C.channel&&C.channel.close()):C.publish("webChannelMessage",new dFz(L[0],L[1]));C.NO=m.statusCode;C.kN.w3("WEB_CHANNEL")});
g.DC(C.channel,"o",function(){C.NO===401||C.G.start();C.publish("webChannelError");C.LP.w3("WEB_CHANNEL","")})},Pk4=function(C,m){for(var L=C.screens.length,h=0;h<L;++h)if(C.screens[h].name==m)return C.screens[h];
return null},Xp=function(){var C=g.Wy();
if(!C)return null;var m=Jm();if(!m)return null;m=m.TE();return vE(m,C)},eH=function(C){var m=I0r();
m.dispatchEvent(new h3z(m,C))},B2z=function(C){g.Uk.call(this,C);
this.To={key:Va4(),name:"\u9019\u53f0\u96fb\u8166"};this.Zh=null;this.subscriptions=[];this.dB=this.Hl=null;this.HW=[this.To];this.ev=this.To;this.nt=new g.u_(64);this.s4=0;this.s_=-1;this.tE=!1;this.O_=this.AE=this.AF=null;if(!g.dn(this.player.W())&&!g.nI(this.player.W())){C=this.player;var m=g.QL(C);m&&(m=m.JQ())&&(m=new u2(C,m),g.l(this,m));m=new Yl(C);g.l(this,m);g.zz(C,m.element,4);this.AF=new dQ;g.l(this,this.AF);g.zz(C,this.AF.element,4);this.tE=!!Xp()}},vAz=function(C,m){var L=C.screens.length;
C.screens=g.wt(C.screens,function(h){return!(h||m?!h!=!m?0:h.id==m.id:1)});
return C.screens.length<L},fD7=function(C){b2(C);
C.Y&&(g.V7.clearTimeout(C.Y),C.Y=null);VC(C);C.L.cancel();C.N&&(typeof C.N==="number"&&g.V7.clearTimeout(C.N),C.N=null)},yhW=function(C){ZKQ(C);
C.L=new wQ(C.V);C.L.subscribe("screenChange",(0,g.eW)(C.vNP,C));tW7(C);C.S||(C.G=dEJ(g.BD("yt-remote-automatic-screen-cache")||[]));ZKQ(C);C.info("Initializing automatic screens: "+$FJ(C.G));C.T=new T28(C.V,(0,g.eW)(C.TE,C,!0));C.T.subscribe("screenChange",(0,g.eW)(function(){this.publish("onlineScreenChange")},C))},cs=function(C,m,L){g.T.call(this);
this.N=L!=null?(0,g.eW)(C,L):C;this.U_=m;this.C=(0,g.eW)(this.cA,this);this.T=!1;this.L=0;this.G=this.IH=null;this.V=[]},MW7=function(C,m){if(C.T.playerState!=-1E3){var L=1085;
switch(parseInt(m.params.adState,10)){case 1:L=1081;break;case 2:L=1084;break;case 0:L=1083}C.T.playerState=L;m=parseInt(m.params.currentTime,10);ho(C.T,isNaN(m)?0:m);C.publish("remotePlayerChange")}},E9=function(C){C.AE&&(C.player.removeEventListener("presentingplayerstatechange",C.AE),C.AE=null)},Xve=function(C,m){var L=null;
if(m){var h=qd4(C);h&&(L={clientName:h.clientName,deviceMake:h.brand,deviceModel:h.model,osVersion:h.osVersion})}g.Vy("yt.mdx.remote.remoteClient_",L);m&&(chW(C),HKW(C));L=C.L.Uv()&&isNaN(C.N);m==L?m&&(KU(C,1),X_(C,"getSubtitlesTrack")):m?(C.HL()&&C.T.reset(),KU(C,1),X_(C,"getNowPlaying"),FpC(C)):C.dF(1)},tm=function(C){nxW(C);
g.hx(C.dY);C.dY=null;C.Ux.removeAll();if(C.T){var m=C.T;C.T=null;m.abort();m.dispose()}},dc2=function(C,m,L){var h=document.createElement("script");
h.onerror=m;L&&(h.onload=L);g.n7(h,g.r$(C));(document.head||document.documentElement).appendChild(h)},wnJ=function(C,m){this.T=C;
this.map=m;this.context=null},Yd7=function(C){C.QK||C.YL||(C.S=1,C.YL=HE((0,g.eW)(C.w8,C),0),C.xP=0)},kL4=function(C,m,L){EI7(C.T,m,L)},da2=function(C){vR7.call(this);
this.status=1;this.errorCode=C},On=function(C,m,L,h){this.G=C;
this.V=m;this.Bl=L;this.AI=h||1;this.Ux=new g.bA(this);this.fP=45E3;this.eA=null;this.N=!1;this.QL=this.wY=this.Y=this.rY=this.gY=this.Hq=this.zT=null;this.TT=[];this.T=null;this.S=0;this.C=this.Xq=null;this.lV=-1;this.kN=!1;this.nP=0;this.dY=null;this.Co=this.D5=this.Et=this.LP=!1;this.L=new xcz},wvC=function(C){rB("setApiReady_ "+C);
g.Vy("yt.mdx.remote.cloudview.apiReady_",C)},Wp4=function(C){return oA2(C.T).map(function(m){var L=C.L;
m=m.map;"__data__"in m?(m=m.__data__,L=L.V?UE7(m):m):L=m;return L})},KpW=function(C){g.cN("yt-remote-connected-devices",C,86400)},uc4=function(C,m,L,h){h.disableCastApi?rB("Cannot initialize because disabled by Mdx config."):DF4()?aqJ(m,h)&&(OK2(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?N2F(C,L):(window.__onGCastApiAvailable=function(V,S){V?N2F(C,L):(Fp("Failed to load cast API: "+S),EA4(!1),OK2(!1),g.AT("yt-remote-cast-available"),g.AT("yt-remote-cast-receiver"),zce(),L(!1))},h.loadCastApiSetupScript?
g.Zy(IDC):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?s88()>=60&&bKQ():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?wu4():s88()>=89?A8r():(Rs4(),Y5(GL2.map(gRz))))):rB("Cannot initialize because not running Chrome")},IF7=function(C,m,L){var h=g.OX(L);
h.T!=""?(m&&g.pH(h,m+"."+h.T),g.nH(h,h.G)):(h=g.V7.location,h=Nte(h.protocol,m?m+"."+h.hostname:h.hostname,+h.port,L));m=C.LP;L=C.B_;m&&L&&g.AZ(h,m,L);g.AZ(h,"VER",C.kR);NB(C,h);return h},Lf4=function(C,m){if(C.T==1){if(!m){C.j6=Math.floor(Math.random()*1E5);
m=C.j6++;var L=new En(C,"",m);L.Kq=C.wU;var h=$a8(C),V=C.Zy.clone();g.AZ(V,"RID",m);g.AZ(V,"CVER","1");lM(C,V);C6r(L,V,h);C.e_=L;C.T=2}}else C.T==3&&(m?msQ(C,m):C.L.length==0||C.e_||msQ(C))},Hi7=function(){IJ||(IJ=g.Aw("yt.mdx.remote.debug.handlers_")||[],g.Vy("yt.mdx.remote.debug.handlers_",IJ))},zy=function(C,m){var L=C.C;
L.T.length+L.L.length<50&&C.C.enqueue(m)},TS=function(C){return new BE(C.V.getPlayerContextData())},hrJ=function(C){if(C.Co)return g.Pm();
if(!C.Bl)return Lme(C);C.LP===null&&(C.LP=Lme(C));return C.LP},IZ=function(C){isNaN(C.G)||g.Cv(C.G);
C.G=g.FW((0,g.eW)(C.Eq,C),C.V>0&&C.V<g.NY()?2E4:1E4)},VZW=function(C){var m=C.T.N;
m!=null?(CU(5),m?(CU(11),sn(C.T,C,!1)):(CU(12),sn(C.T,C,!0))):(C.Uy=new En(C),C.Uy.Kq=C.AG,m=C.T,m=aZ(m,m.K8()?C.Ir:null,C.mD),CU(5),VP(m,"TYPE","xmlhttp"),aFz(C.Uy,m,!1,C.Ir,!1))},SVl=function(C,m){return new g.c$(C,m)},GZ4=function(C){g.Vy("yt.mdx.remote.currentScreenId_",C)},UsF=function(){var C=g.gE.Si();
C&&YXe(C,C.J5.IE(!0))},bM=function(C){C||(g.AT("yt-remote-session-screen-id"),g.AT("yt-remote-session-video-id"));
xF4();C=s9();g.uK(C,GS());KpW(C)},Dsz=function(C,m){return m?g.cl(C.G,function(L){return fU(m,L.label)},C):null},ZZ8=function(C){C.jV(1,0);
C.Zy=aZ(C,null,C.Di);Kml(C)},bKQ=function(){Rs4();
var C=Qa4();C.push("//www.gstatic.com/eureka/clank/cast_sender.js");Y5(C)},oZ=function(C,m){if(m==2){var L=(0,g.eW)(C.JQ5,C),h=C.Fw,V=!h;
h=new g.Az(h||"//www.google.com/images/cleardot.gif");g.V7.location&&g.V7.location.protocol=="http"||g.rw(h,"https");to(h);V?M_7(h.toString(),L):Oi4(h.toString(),L)}else eH(2);C.a9=0;C.C&&C.C.t3(m);esz(C);fD7(C)},chW=function(C){g.Cv(C.N);
C.N=NaN},pn4=function(C){BzW(C,"getLoungeToken");
g.Cv(C.C);C.C=g.FW(function(){fq7(C,null)},3E4)},joW=function(C){C.T=new On(C,C.V,"rpc",C.AI);
C.S===null&&(C.T.eA=C.QL);C.T.nP=0;var m=C.Sl.clone();g.AZ(m,"RID","rpc");g.AZ(m,"SID",C.V);g.AZ(m,"AID",C.rY);g.AZ(m,"CI",C.dY?"0":"1");!C.dY&&C.D1&&g.AZ(m,"TO",C.D1);g.AZ(m,"TYPE","xmlhttp");NB(C,m);C.S&&C.QL&&g.bF(m,C.S,C.QL);C.nP&&C.T.setTimeout(C.nP);var L=C.T;C=C.Bl;L.rY=1;L.Y=to(m.clone());L.QL=null;L.LP=!0;k38(L,C)},RrW=function(){return g.BD("yt-remote-session-browser-channel")},gbr=function(C,m){var L;
m?L=m.Bl:L=C.wY++;var h=C.eA.clone();g.AZ(h,"SID",C.V);g.AZ(h,"RID",L);g.AZ(h,"AID",C.rY);NB(C,h);C.S&&C.QL&&g.bF(h,C.S,C.QL);L=new On(C,C.V,L,C.gY+1);C.S===null&&(L.eA=C.QL);m&&(C.G=m.TT.concat(C.G));m=Qoe(C,L,1E3);L.setTimeout(Math.round(C.IP*.5)+Math.round(C.IP*.5*Math.random()));z32(C.L,L);G34(L,h,m)},boC=function(C){C.T||C.Y||(C.AI=1,g.BL(C.bN,C),C.TT=0)},c8F=function(C){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(C)},Axr=function(C,m,L){var h=m.params.videoId||
m.params.video_id,V=parseInt(m.params.currentIndex,10);
C.T.listId=m.params.listId||C.T.listId;uM(C.T,h,V);C.publish("remoteQueueChange",L)},FpC=function(C){g.Cv(C.QL);
C.QL=g.FW(function(){C.dF(1)},864E5)},uyW=function(C,m,L,h){g.Cv(C.N);
C.N=0;kL4(C.V,m,function(V){V||h<0?L(V):C.N=g.FW(function(){uyW(C,m,L,h-1)},300)})},gRz=function(C){return"chrome-extension://"+C+"/cast_sender.js"},rxJ=function(C){var m=(MB+1)%50;
MB=m;Ty[m]=C;yC||(yC=m==49)},nb4=function(C){var m=aZ(C.T,C.D4,"/mail/images/cleardot.gif");
to(m);pN2(m.toString(),5E3,(0,g.eW)(C.qk,C),3,2E3);C.xH(1)},Jxz=function(C){var m,L;
g.w(function(h){if(h.T==1)return g.N5(h,2),g.N(h,hrJ(C),2);g.sY(h);m=C.G;C.G=[];L=m.length;Sd8(C,m,L);PE(C);return g.bV(h,0)})},OK2=function(C){g.Vy("yt.mdx.remote.cloudview.initializing_",C)},puz=function(){g.cN("yt-remote-lounge-token-expiration",!0,86400)},tW7=function(C){C.screens=C.L.TE();
var m=C.C,L={},h;for(h in m)L[m[h]]=h;m=C.screens.length;for(h=0;h<m;++h){var V=C.screens[h];V.uuid=L[V.id]||""}C.info("Updated manual screens: "+$FJ(C.screens))},lK8=function(C){g.Cv(C.N);
C.N=0;g.Cv(C.S);C.S=0;C.C();C.C=function(){};
g.Cv(C.QL)},$l=function(C,m){Ps.call(this,C,m,"ManualSession");
this.G=g.FW((0,g.eW)(this.PQ,this,null),150)},aKr=function(C,m,L){this.T=1;
this.L=[];this.G=[];this.C=new dB;this.QL=C||null;this.N=m!=null?m:null;this.Y=L||!1},zce=function(){rB("dispose");
var C=gB();C&&C.dispose();g.Vy("yt.mdx.remote.cloudview.instance_",null);wvC(!1);g.jg(erl);erl.length=0},fFW=function(C){return C.L?1:C.T?C.T.size:0},wQ=function(C){vs.call(this,"LocalScreenService");
this.L=C;this.T=NaN;x5(this);this.info("Initializing with "+$FJ(this.screens))},Ck4=function(C){if(C.T){var m=C.kN(),L=C.T.wU||{};
m?L["x-youtube-lounge-xsrf-token"]=m:delete L["x-youtube-lounge-xsrf-token"];C.T.wU=L}},ob4=function(C){if(C instanceof g.UZ)return C;
if(typeof C.IE=="function")return C.IE(!1);if(g.Em(C)){var m=0,L=new g.UZ;L.next=function(){for(;;){if(m>=C.length)return g.Z9;if(m in C)return g.Cw(C[m++]);m++}};
return L}throw Error("Not implemented");},Kml=function(C){C.e_||C.a4||(C.a4=HE((0,g.eW)(C.SF,C),0),C.QC=0)},G34=function(C,m,L){C.rY=1;
C.Y=to(m.clone());C.QL=L;C.LP=!0;k38(C,null)},iZ4=function(C,m){a:if(bT7(m)!=bT7(C.T))var L=!1;
else{L=g.K7(m);for(var h=L.length,V=0;V<h;++V)if(!C.T[L[V]]){L=!1;break a}L=!0}L||(WfF("Updated online screens: "+g.Sz(C.T)),C.T=m,C.publish("screenChange"));$c4(C)},EA4=function(C){rB("setCastInstalled_ "+C);
g.cN("yt-remote-cast-installed",C)},X_=function(C,m,L){L?N9("Sending: action="+m+", params="+g.Sz(L)):N9("Sending: action="+m);
C.L.sendMessage(m,L)},msQ=function(C,m){if(m)if(C.Wx>6){C.L=C.G.concat(C.L);
C.G.length=0;var L=C.j6-1;m=$a8(C)}else L=m.S,m=m.aF;else L=C.j6++,m=$a8(C);var h=C.Zy.clone();g.AZ(h,"SID",C.V);g.AZ(h,"RID",L);g.AZ(h,"AID",C.zf);lM(C,h);L=new En(C,C.V,L,C.QC+1);L.Kq=C.wU;L.setTimeout(1E4+Math.round(1E4*Math.random()));C.e_=L;C6r(L,h,m)},xsC=function(){var C=g.BD("yt-remote-cast-receiver");
return C?C.friendlyName:null},Qoe=function(C,m,L){L=Math.min(C.G.length,L);
var h=C.C?(0,g.eW)(C.C.PA,C.C,C):null;a:{for(var V=C.G,S=-1;;){var U=["count="+L];S==-1?L>0?(S=V[0].T,U.push("ofs="+S)):S=0:U.push("ofs="+S);for(var Z=!0,k=0;k<L;k++){var R=V[k].T,Q=V[k].map;R-=S;if(R<0)S=Math.max(0,V[k].T-100),Z=!1;else try{R="req"+R+"_"||"";try{var G=Q instanceof Map?Q:Object.entries(Q);for(var A=g.H(G),r=A.next();!r.done;r=A.next()){var p=g.H(r.value),a=p.next().value,W=p.next().value,t=W;g.VA(W)&&(t=g.Sz(W));U.push(R+a+"="+encodeURIComponent(t))}}catch(P){throw U.push(R+"type="+
encodeURIComponent("_badmap")),P;}}catch(P){h&&h(Q)}}if(Z){G=U.join("&");break a}}G=void 0}C=C.G.splice(0,L);m.TT=C;return G},P6F=function(){var C=Jm().sZ.$_gos();
var m=Gy();m&&U9()&&(l0C(C,m)||C.push(m));return mF8(C)},e8=function(C,m,L,h,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),h(L)}catch(S){}},vbW=function(C,m){C.T=0;
C.W8&&C.W8.MZ(m);KVz(C);B7z(C)},CD=function(C,m){if(m==2||m==9){var L=null;
C.W8&&(L=null);var h=(0,g.eW)(C.mEx,C);L||(L=new g.Az("//www.google.com/images/cleardot.gif"),to(L));fKW(L.toString(),1E4,h)}else CU(2);vbW(C,m)},T7z=function(C,m,L,h,V,S){C.info("getAutomaticScreenByIds "+L+" / "+m);
L||(L=C.C[m]);var U=C.TE(),Z=L?vE(U,L):null;L&&(C.S||Z)||(Z=vE(U,m));if(Z){Z.uuid=m;var k=M9(C,Z);EI7(C.T,k,function(R){V(R?k:null)})}else L?tZe(C,L,(0,g.eW)(function(R){var Q=M9(this,new np({name:h,
screenId:L,loungeToken:R,dialId:m||""}));EI7(this.T,Q,function(G){V(G?Q:null)})},C),S):V(null)},dQ=function(){g.X.call(this,{X:"div",
Z:"ytp-mdx-popup-dialog",j:{role:"dialog"},U:[{X:"div",Z:"ytp-mdx-popup-dialog-inner-content",U:[{X:"div",Z:"ytp-mdx-popup-title",yL:"\u4f60\u5df2\u767b\u51fa\u5e33\u6236"},{X:"div",Z:"ytp-mdx-popup-description",yL:"\u4f60\u89c0\u770b\u7684\u5f71\u7247\u53ef\u80fd\u6703\u65b0\u589e\u81f3\u96fb\u8996\u7684\u89c0\u770b\u8a18\u9304\uff0c\u4e26\u5f71\u97ff\u7cfb\u7d71\u5728\u96fb\u8996\u4e0a\u63a8\u85a6\u7684\u5167\u5bb9\u3002\u5982\u8981\u907f\u514d\u9019\u7a2e\u60c5\u6cc1\uff0c\u8acb\u6309\u4e00\u4e0b [\u53d6\u6d88] \u4e26\u5728\u96fb\u8166\u4e0a\u767b\u5165 YouTube\u3002"},
{X:"div",Z:"ytp-mdx-privacy-popup-buttons",U:[{X:"button",CP:["ytp-button","ytp-mdx-privacy-popup-cancel"],yL:"\u53d6\u6d88"},{X:"button",CP:["ytp-button","ytp-mdx-privacy-popup-confirm"],yL:"\u78ba\u8a8d"}]}]}]});this.fade=new g.Ke(this,250);this.cancelButton=this.sx("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.sx("ytp-mdx-privacy-popup-confirm");g.l(this,this.fade);this.K(this.cancelButton,"click",this.T);this.K(this.confirmButton,"click",this.L)},PE=function(C){C.publish("handlerOpened");
C.fP.w3("BROWSER_CHANNEL")},Jo=function(C,m){this.L={};
this.T=[];this.un=this.size=0;var L=arguments.length;if(L>1){if(L%2)throw Error("Uneven number of arguments");for(var h=0;h<L;h+=2)this.set(arguments[h],arguments[h+1])}else if(C)if(C instanceof Jo)for(L=C.Zw(),h=0;h<L.length;h++)this.set(L[h],C.get(L[h]));else for(h in C)this.set(h,C[h])},yxC=function(C,m,L){var h=this;
L=L===void 0?function(){return""}:L;
var V=V===void 0?new OTz:V;var S=S===void 0?new g.L$:S;this.pathPrefix=C;this.T=m;this.gY=L;this.C=S;this.Y=null;this.QL=this.S=0;this.channel=null;this.N=0;this.G=new S8(function(){h.G.isActive();var U;((U=h.channel)==null?void 0:fFW((new iKr(U,U.T)).T.L))===0&&h.connect(h.Y,h.S)});
this.V={};this.L={};this.zT=!1;this.logger=null;this.TT=[];this.NO=void 0;this.eA=new y87;this.Xq=new J8z;this.kN=new UaC;this.LP=new Ai8},Hs=function(C){return TS(C.Hl).videoId===C.J.getVideoData(1).videoId},pc8=function(C){g.Gl("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),function(m){this.N.push(this.V.subscribe(m,g.LZ(this.J1q,m),this))},C)},m1=function(C,m){nR2(g.y0(C.screens,
bir));
m&&puz()},cxe=function(C,m){m=m.message;
m.params?N9("Received: action="+m.action+", params="+g.Sz(m.params)):N9("Received: action="+m.action+" {}");switch(m.action){case "loungeStatus":m=Lp(m.params.devices);C.G=g.y0(m,function(h){return new l2(h)});
m=!!g.cl(C.G,function(h){return h.type=="LOUNGE_SCREEN"});
Xve(C,m);m=C.Bp("mlm");C.publish("multiStateLoopEnabled",m);break;case "loungeScreenDisconnected":g.Wlt(C.G,function(h){return h.type=="LOUNGE_SCREEN"});
Xve(C,!1);break;case "remoteConnected":var L=new l2(Lp(m.params.device));g.cl(C.G,function(h){return h.equals(L)})||FmF(C.G,L);
break;case "remoteDisconnected":L=new l2(Lp(m.params.device));g.Wlt(C.G,function(h){return h.equals(L)});
break;case "gracefulDisconnect":break;case "playlistModified":Axr(C,m,"QUEUE_MODIFIED");break;case "nowPlaying":MZl(C,m);break;case "onStateChange":RFe(C,m);break;case "onAdStateChange":MW7(C,m);break;case "onVolumeChanged":xE7(C,m);break;case "onSubtitlesTrackChanged":JJl(C,m);break;case "nowAutoplaying":qVQ(C,m);break;case "autoplayDismissed":C.publish("autoplayDismissed");break;case "autoplayUpNext":Xce(C,m);break;case "onAutoplayModeChanged":Qme(C,m);break;case "onHasPreviousNextChanged":ERF(C,
m);break;case "requestAssistedSignIn":C.publish("assistedSignInRequested",m.params.authCode);break;case "onLoopModeChanged":C.publish("loopModeChange",m.params.loopMode);break;default:N9("Unrecognized action: "+m.action)}},HZC=function(){},LD=function(C,m,L){Ps.call(this,C,m,"CastSession");
var h=this;this.config_=L;this.G=null;this.TT=(0,g.eW)(this.Q4,this);this.Xq=(0,g.eW)(this.JpA,this);this.zT=g.FW(function(){Ff4(h,null)},12E4);
this.S=this.C=this.N=this.Y=0;this.gY=!1;this.QL="unknown"},C6r=function(C,m,L){C.M3=1;
C.Zg=to(m.clone());C.aF=L;C.LP=!0;R3z(C,null)},q9=function(C){LU("CP",C)},hg=function(C){return C.isPlaying()?(g.NY()-C.C)/1E3:0},pN2=function(C,m,L,h,V){if(h==0)L(!1);
else{var S=V||0;h--;fKW(C,m,function(U){U?L(!0):g.V7.setTimeout(function(){pN2(C,m,L,h,S)},S)})}},XNW=function(C){g.xN.call(this);
this.T=C();this.T.subscribe("webChannelOpened",this.Yn,this);this.T.subscribe("webChannelClosed",this.onClosed,this);this.T.subscribe("webChannelError",this.onError,this);this.T.subscribe("webChannelMessage",this.onMessage,this)},oJ=function(C){var m;
return!!(C.config_.enableDialLoungeToken&&((m=C.G)==null?0:m.getDialAppInfo))},wNJ=function(C,m,L,h,V){function S(){return new YVF(fp(C,"/bc"),m,!1,L,h)}
L=L===void 0?function(){return""}:L;
return g.tb("enable_mdx_web_channel_desktop")?new XNW(function(){return new yxC(fp(C,"/wc"),m,L)}):new dsz(S,V)},Kfe=function(C){g.uv.call(this,"serverreachability",C)},dsz=function(C,m){g.xN.call(this);
var L=this;this.handler=C();this.handler.subscribe("handlerOpened",this.HA,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",function(h,V){L.onError(V)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.T=m},HE=function(C,m){if(typeof C!=="function")throw Error("Fn must not be null and must be a function");
return g.V7.setTimeout(function(){C()},m)},wB=function(C,m){return Object.prototype.hasOwnProperty.call(C,m)},s88=function(){var C=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return C?parseInt(C[1],10):0},OZz=function(C){g.uv.call(this,"channelError");
this.error=C},$E2=function(C){return new Promise(function(m){C.Xq=Va4();
if(C.eA){var L=new chrome.cast.DialLaunchResponse(!0,N7F(C));m(L);FG4(C)}else C.zT=function(){g.Cv(C.QL);C.zT=function(){};
C.QL=NaN;var h=new chrome.cast.DialLaunchResponse(!0,N7F(C));m(h);FG4(C)},C.QL=g.FW(function(){C.zT()},100)})},NB=function(C,m){C.kN&&g.Kt(C.kN,function(L,h){g.AZ(m,h,L)});
C.C&&g.Kt({},function(L,h){g.AZ(m,h,L)})},EbJ=function(C){var m=C.T.media,L=C.T.customData;
if(m&&L){var h=TS(C);m.contentId!=h.videoId&&q9("Cast changing video to: "+m.contentId);h.videoId=m.contentId;h.playerState=L.playerState;ho(h,C.T.getEstimatedTime());yP(C,h)}else q9("No cast media video. Ignoring state update.")},zrC=function(C){return C.V?C.S+hg(C):C.S},Ao=function(C,m){g.SK.call(this);
this.config_=m;this.L=C;this.Y=m.appId||"233637DE";this.V=m.theme||"cl";this.QL=m.disableCastApi||!1;this.N=m.forceMirroring||!1;this.T=null;this.S=!1;this.G=[];this.C=(0,g.eW)(this.uWY,this)},Vc=function(C){LU("Controller",C)},gB=function(){return g.Aw("yt.mdx.remote.cloudview.instance_")},i2=function(C,m){C.info("getDialAppInfoWithTimeout_ "+m);
oJ(C)&&(g.Cv(C.S),C.S=0,m==0?IKJ(C):C.S=g.FW(function(){IKJ(C)},m))},fKW=function(C,m,L){var h=new Image;
h.onload=function(){try{nU(h),L(!0)}catch(V){}};
h.onerror=function(){try{nU(h),L(!1)}catch(V){}};
h.onabort=function(){try{nU(h),L(!1)}catch(V){}};
h.ontimeout=function(){try{nU(h),L(!1)}catch(V){}};
g.V7.setTimeout(function(){if(h.ontimeout)h.ontimeout()},m);
h.src=C},I0r=function(){return soz=soz||new g.xN},MZl=function(C,m){m.params=m.params||{};
Axr(C,m,"NOW_PLAYING_MAY_CHANGE");RFe(C,m);C.publish("autoplayDismissed")},k38=function(C,m){C.gY=Date.now();
WE(C);C.wY=C.Y.clone();VP(C.wY,"t",C.AI);C.S=0;var L=C.G.D5;C.L=new xcz;C.T=ecz(C.G,L?m:null,!C.QL);C.nP>0&&(C.dY=new g.qy((0,g.eW)(C.qZ,C,C.T),C.nP));C.Ux.listen(C.T,"readystatechange",C.I5);m=C.eA?g.ne(C.eA):{};C.QL?(C.Xq||(C.Xq="POST"),m["Content-Type"]="application/x-www-form-urlencoded",C.T.send(C.wY,C.Xq,C.QL,m)):(C.Xq="GET",C.T.send(C.wY,C.Xq,null,m));mB(1)},QC=function(C){LU("remote",C)},YVF=function(C,m,L,h,V,S,U,Z,k,R,Q,G,A,r,p){var a=this;
L=L===void 0?!1:L;h=h===void 0?function(){return""}:h;
V=V===void 0?!1:V;S=S===void 0?!1:S;U=U===void 0?!1:U;Z=Z===void 0?function(){return g.Pm({})}:Z;
k=k===void 0?!1:k;Q=Q===void 0?!1:Q;G=G===void 0?!1:G;A=A===void 0?!1:A;r=r===void 0?!1:r;this.D5=C;this.TT=m;this.S=new g.L$;this.L=(this.N=!!p)?p(function(){a.b$()}):new S8(this.b$,this);
this.T=null;this.Y=!1;this.zT=null;this.Xq="";this.gY=this.QL=0;this.G=[];this.AI=L;this.kN=h;this.C=S;this.rY=Z;this.eA=R;this.Bl=U;this.LP=null;this.V=g.Pm();this.I3=V;this.Co=k;this.lV=Q;this.Ux=G;this.RH=A;this.Et=r;this.fP=new y87;this.dY=new J8z;this.Hq=new uOJ;this.nP=new UaC;this.wY=new Ai8;this.Wl=new q1r;this.hU=new KG2},WfF=function(C){LU("OnlineScreenService",C)},Yl=function(C){g.X.call(this,{X:"div",
Z:"ytp-remote",U:[{X:"div",Z:"ytp-remote-display-status",U:[{X:"div",Z:"ytp-remote-display-status-icon",U:[g.iIt()]},{X:"div",Z:"ytp-remote-display-status-text",yL:"{{statustext}}"}]}]});this.api=C;this.fade=new g.Ke(this,250);g.l(this,this.fade);this.K(C,"presentingplayerstatechange",this.onStateChange);this.Nr(C.getPlayerStateObject())},Si=function(C,m,L,h){h=h===void 0?!1:h;
g.SK.call(this);var V=this;this.N=NaN;this.Xq=!1;this.QL=this.Y=this.TT=this.gY=NaN;this.zT=[];this.C=this.S=this.V=this.T=this.L=null;this.eA=C;this.kN=h;this.zT.push(g.kJ(window,"beforeunload",function(){V.dF(2)}));
this.G=[];this.T=new BE;this.rY=m.id;this.LP=m.idType;this.L=wNJ(this.eA,L,this.WU,this.LP=="shortLived",this.rY);this.L.listen("channelOpened",function(){bZ7(V)});
this.L.listen("channelClosed",function(){N9("Channel closed");isNaN(V.N)?bM(!0):bM();V.dispose()});
this.L.listen("channelError",function(S){bM();isNaN(V.Z3())?(S==1&&V.LP=="shortLived"&&V.publish("browserChannelAuthError",S),N9("Channel error: "+S+" without reconnection"),V.dispose()):(V.Xq=!0,N9("Channel error: "+S+" with reconnection in "+V.Z3()+" ms"),KU(V,2))});
this.L.listen("channelMessage",function(S){cxe(V,S)});
this.L.AR(m.token);this.subscribe("remoteQueueChange",function(){var S=V.T.videoId;g.Wy()&&g.cN("yt-remote-session-video-id",S)})},$a8=function(C){var m=Math.min(C.L.length,1E3),L=["count="+m];
if(C.Wx>6&&m>0){var h=C.L[0].T;L.push("ofs="+h)}else h=0;for(var V={},S=0;S<m;V={cX:void 0},S++){V.cX=C.L[S].T;var U=C.L[S].map;V.cX=C.Wx<=6?S:V.cX-h;try{g.Kt(U,function(Z){return function(k,R){L.push("req"+Z.cX+"_"+R+"="+encodeURIComponent(k))}}(V))}catch(Z){L.push("req"+V.cX+"_type="+encodeURIComponent("_badmap"))}}C.G=C.G.concat(C.L.splice(0,m));
return L.join("&")},vE=function(C,m){return g.cl(C,function(L){return fU(L,m)})},uGz=function(C,m){m?(C.info("onConnectedScreenId_: Received screenId: "+m),C.T&&C.T.id==m||C.l9(m,function(L){Ws(C,L)},function(){return C.Km()},5)):C.Km(Error("Waiting for session status timed out."))},N2F=function(C,m){EA4(!0);
OK2(!1);SOJ(C,function(L){L?(wvC(!0),g.R0("yt-remote-cast2-api-ready")):(Fp("Failed to initialize cast API."),EA4(!1),g.AT("yt-remote-cast-available"),g.AT("yt-remote-cast-receiver"),zce());m(L)})},UJ=function(C){C.Hx!=null&&(g.V7.clearTimeout(C.Hx),C.Hx=null)},$s4=function(C){C.audioTrackId=null;
C.trackData=null;C.playerState=-1;C.hasPrevious=!1;C.hasNext=!1;C.N=0;C.C=g.NY();C.L=0;C.S=0;C.G=0;C.loadedTime=0;C.T=NaN;C.V=!1},D6=function(){return!!g.BD("yt-remote-cast-installed")},rQ=function(){qB()?gB().stopSession():Fp("stopSession called before API ready.");
var C=U9();C&&(C.disconnect(1),gIJ(null))},QiJ=function(C,m){var L=null;
if(C.T==m){VC(C);Plz(C);C.T=null;var h=2}else if(Vv2(C.L,m))L=m.TT,si8(C.L,m),h=1;else return;if(C.a9!=0)if(m.N)if(h==1){L=m.QL?m.QL.length:0;m=Date.now()-m.gY;var V=C.gY;h=I0r();h.dispatchEvent(new CIQ(h,L,m,V));iM(C)}else boC(C);else{var S=m.lV;V=m.getLastError();if(V==3||V==0&&S>0||!(h==1&&Tz8(C,m)||h==2&&ExW(C)))switch(L&&L.length>0&&(m=C.L,m.G=m.G.concat(L)),V){case 1:oZ(C,5);break;case 4:oZ(C,10);break;case 3:oZ(C,6);break;default:oZ(C,2)}}},Z6=function(C){PNr(C);
g.hx(C.wQ);C.wQ=null;C.C.stop();C.G.removeAll();if(C.qo){var m=C.qo;C.qo=null;m.abort();m.dispose()}C.hK&&(C.hK=null)},mqJ=function(C,m){g.b0.call(this,C);
this.T=m},si8=function(C,m){C.L&&C.L==m?C.L=null:C.T&&C.T.has(m)&&C.T.delete(m)},pU=function(C,m){cE();
Gy()&&Gy();if(zS)Am=C;else{GZ4(C.id);var L=g.Aw("yt.mdx.remote.enableConnectWithInitialState_")||!1;C=new Si(kh,C,JiQ(),L);C.connect(m,LRJ());C.subscribe("beforeDisconnect",function(h){k5("yt-remote-before-disconnect",h)});
C.subscribe("beforeDispose",function(){U9()&&(U9(),gIJ(null))});
C.subscribe("browserChannelAuthError",function(){var h=Gy();h&&h.idType=="shortLived"&&(qB()?gB().handleBrowserChannelAuthError():Fp("refreshLoungeToken called before API ready."))});
gIJ(C)}},hnr=function(){var C=Xp();
C?(QC("Resume connection to: "+pp(C)),pU(C,0)):(bM(),mc8(),QC("Skipping connecting because no session screen found."))},HKW=function(C){g.Cv(C.gY);
C.gY=NaN},ji=function(C){switch(C.playerState){case 1:case 1081:return(g.NY()-C.C)/1E3+C.N;
case -1E3:return 0}return C.N},N7F=function(C){var m={};
m.pairingCode=C.Xq;m.theme=C.rY;TtW()&&(m.env_useStageMdx=1);return g.dy(m)},RH=function(C,m){if(m.key!==C.ev.key)if(m.key===C.To.key)rQ();
else if(Dcl(C)&&qOW(C),C.ev=m,!g.nI(C.player.W())){var L=C.player.getPlaylistId();var h=C.player.getVideoData(1);var V=h.videoId;if(!L&&!V||(C.player.getAppState()===2||C.player.getAppState()===1)&&C.player.W().D("should_clear_video_data_on_player_cued_unstarted"))h=null;else{var S=C.player.getPlaylist();if(S){var U=[];for(var Z=0;Z<S.length;Z++)U[Z]=g.fq(S,Z).videoId}else U=[V];S=C.player.getCurrentTime(1);C={videoIds:U,listId:L,videoId:V,playerParams:h.playerParams,clickTrackingParams:h.zT,index:Math.max(C.player.getPlaylistIndex(),
0),currentTime:S===0?void 0:S};(h=VW4(h))&&(C.locationInfo=h);h=C}QC("Connecting to: "+g.Sz(m));m.key=="cast-selector-receiver"?(DW(h||null),m=h||null,qB()?gB().setLaunchParams(m):Fp("setLaunchParams called before ready.")):!h&&VFF()&&cE()==m.key?k5("yt-remote-connection-change",!0):(rQ(),DW(h||null),h=Jm().TE(),(m=vE(h,m.key))&&pU(m,1))}},Qa4=function(){var C=s88(),m=[];
if(C>1){var L=C-1;m.push("//www.gstatic.com/eureka/clank/"+C+"/cast_sender.js");m.push("//www.gstatic.com/eureka/clank/"+L+"/cast_sender.js")}return m},qVQ=function(C,m){C.S=m.params.videoId;
C.publish("nowAutoplaying",parseInt(m.params.timeout,10))},bZ7=function(C){N9("Channel opened");
C.Xq&&(C.Xq=!1,HKW(C),C.gY=g.FW(function(){N9("Timing out waiting for a screen.");C.dF(1)},15E3))},B7z=function(C){C.X1&&(C.X1.abort(),C.X1=null);
C.QK&&(C.QK.cancel(),C.QK=null);C.YL&&(g.V7.clearTimeout(C.YL),C.YL=null);UJ(C);C.e_&&(C.e_.cancel(),C.e_=null);C.a4&&(g.V7.clearTimeout(C.a4),C.a4=null)},CIQ=function(C,m,L,h){g.uv.call(this,"timingevent",C);
this.size=m;this.rtt=L;this.retries=h},T28=function(C,m){g.SK.call(this);
this.N=m;m=(m=g.BD("yt-remote-online-screen-ids")||"")?m.split(","):[];for(var L={},h=this.N(),V=h.length,S=0;S<V;++S){var U=h[S].id;L[U]=g.d7(m,U)}this.T=L;this.C=C;this.G=this.V=NaN;this.L=null;WfF("Initialized with "+g.Sz(this.T))},N9=function(C){LU("conn",C)},D$=function(C,m,L){C.V.sendMessage(m,L)},KU=function(C,m){C.publish("proxyStateChange",m)},LRJ=function(){return g.Aw("yt.mdx.remote.connectData_")},ZKQ=function(C){C.C=g.BD("yt-remote-device-id-map")||{}},WE=function(C){C.Hq=Date.now()+
C.fP;
rhe(C,C.fP)},cE=function(){return g.Aw("yt.mdx.remote.currentScreenId_")},UE7=function(C){try{return g.V7.JSON.parse(C)}catch(m){}C=String(C);
if(/^\s*$/.test(C)?0:/^[\],:{}\s\u2028\u2029]*$/.test(C.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+C+")")}catch(m){}throw Error("Invalid JSON string: "+C);},iM=function(C){ZoC(C.L)||C.N||(C.N=!0,g.BL(C.r8,C),C.gY=0)},En=function(C,m,L,h){this.T=C;
this.V=m;this.S=L;this.N=h||1;this.L=45E3;this.G=new g.bA(this);this.C=new g.q0;this.C.setInterval(250)},Da8=function(C){C=g.wt(C.G,function(m){return m.idType!="shortLived"});
g.cN("yt-remote-automatic-screen-cache",g.y0(C,bir))},riz=function(){this.T=[];
this.L=[]},a07=function(C){if(C.L!=null)return C.G.concat(C.L.TT);
if(C.T!=null&&C.T.size!==0){var m=C.G;C=g.H(C.T.values());for(var L=C.next();!L.done;L=C.next())m=m.concat(L.value.TT);return m}return g.dt(C.G)},qd4=function(C){return g.cl(C.G,function(m){return m.type=="LOUNGE_SCREEN"})},SoF=function(C){g.uv.call(this,"channelMessage");
this.message=C},VFF=function(){var C=U9();
return!!C&&C.getProxyState()!=3},UqW=function(){D6()?gB()?qB()?(rB("Requesting cast selector."),gB().requestSession()):(rB("Wait for cast API to be ready to request the session."),erl.push(g.dE("yt-remote-cast2-api-ready",UqW))):Fp("requestCastSelector: Cast is not initialized."):Fp("requestCastSelector: Cast API is not installed!")},Fp=function(C){LU("cloudview",C)},yP=function(C,m){aDr(C);
C.V.setPlayerContextData(Dq4(m));pc8(C)},ZrF=function(C){var m=C.L.PU(),L=C.T&&C.T.L;
C=g.y0(m,function(h){L&&fU(h,L.label)&&(L=null);var V=h.uuid?h.uuid:h.id,S=Dsz(this,h);S?(S.label=V,S.friendlyName=h.name):(S=new chrome.cast.Receiver(V,h.name),S.receiverType=chrome.cast.ReceiverType.CUSTOM);return S},C);
L&&(L.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(L=new chrome.cast.Receiver(L.label,L.friendlyName),L.receiverType=chrome.cast.ReceiverType.CUSTOM),C.push(L));return C},krQ=function(C){this.G=[];
this.Bl=this.Sl=this.eA=this.I3=this.T=this.B_=this.LP=this.kN=this.S=this.Et=this.QL=null;this.oZ=this.wY=0;this.eZ=Qc("failFast",!1,C);this.dY=this.zT=this.Y=this.N=this.C=null;this.RH=!0;this.P_=this.rY=-1;this.AI=this.TT=this.gY=0;this.x3=Qc("baseRetryDelayMs",5E3,C);this.xE=Qc("retryDelaySeedMs",1E4,C);this.B0=Qc("forwardChannelMaxRetries",2,C);this.IP=Qc("forwardChannelRequestTimeoutMs",2E4,C);this.UZ=C&&C.W6P||void 0;this.Fw=C&&C.Kem||void 0;this.hs=C&&C.asq||!1;this.nP=void 0;this.D5=C&&C.p34||
!1;this.V="";this.L=new WmF(C&&C.p2L);this.r0=new rJz;this.Ux=C&&C.YGN||!1;this.Hq=C&&C.ILQ||!1;this.Ux&&this.Hq&&(this.Hq=!1);this.Q5=C&&C.Lr5||!1;C&&C.oHq&&(this.RH=!1);this.Wl=!this.Ux&&this.RH&&C&&C.t5Q||!1;this.D1=void 0;C&&C.NR&&C.NR>0&&(this.D1=C.NR);this.lV=void 0;this.hU=0;this.fP=!1;this.Co=this.Xq=null},SX7=function(C,m){C.T==m&&C.publish("yt-remote-cast2-session-failed")},jf7=function(){var C=P6F(),m=Gy();
m||(m=Xp());return g.cl(C,function(L){return m&&fU(m,L.key)?!0:!1})},RnW=function(C,m){ta4();
if(!O9||!O9.get("yt-remote-disable-remote-module-for-dev")){m=g.Wl("MDX_CONFIG")||m;UsF();xF4();kh||(kh=new xl(m?m.loungeApiHost:void 0),TtW()&&(kh.T="/api/loungedev"));ZW||(ZW=g.Aw("yt.mdx.remote.deferredProxies_")||[],g.Vy("yt.mdx.remote.deferredProxies_",ZW));lq2();var L=Jm();if(!L){var h=new GA(kh,m?m.disableAutomaticScreenCache||!1:!1);g.Vy("yt.mdx.remote.screenService_",h);L=Jm();var V={};m&&(V={appId:m.appId,disableDial:m.disableDial,theme:m.theme,loadCastApiSetupScript:m.loadCastApiSetupScript,
disableCastApi:m.disableCastApi,enableDialLoungeToken:m.enableDialLoungeToken,enableCastLoungeToken:m.enableCastLoungeToken,forceMirroring:m.forceMirroring});g.Vy("yt.mdx.remote.enableConnectWithInitialState_",m?m.enableConnectWithInitialState||!1:!1);uc4(C,h,function(S){S?cE()&&gQ(cE(),"YouTube TV"):h.subscribe("onlineScreenChange",function(){k5("yt-remote-receiver-availability-change")})},V)}m&&!g.Aw("yt.mdx.remote.initialized_")&&(g.Vy("yt.mdx.remote.initialized_",!0),QC("Initializing: "+g.Sz(m)),
gj.push(g.dE("yt-remote-cast2-api-ready",function(){k5("yt-remote-api-ready")})),gj.push(g.dE("yt-remote-cast2-availability-change",function(){k5("yt-remote-receiver-availability-change")})),gj.push(g.dE("yt-remote-cast2-receiver-selected",function(){DW(null);
k5("yt-remote-auto-connect","cast-selector-receiver")})),gj.push(g.dE("yt-remote-cast2-receiver-resumed",function(){k5("yt-remote-receiver-resumed","cast-selector-receiver")})),gj.push(g.dE("yt-remote-cast2-session-change",qXF)),gj.push(g.dE("yt-remote-connection-change",function(S){S?gQ(cE(),"YouTube TV"):Xp()||(gQ(null,null),mc8())})),gj.push(g.dE("yt-remote-cast2-session-failed",function(){k5("yt-remote-connection-failed")})),C=JiQ(),m.isAuto&&(C.id+="#dial"),V=m.capabilities||[],V.length>0&&(C.capabilities=
V),C.name=m.device,C.app=m.app,(m=m.theme)&&(C.theme=m),QC(" -- with channel params: "+g.Sz(C)),C?(g.cN("yt-remote-session-app",C.app),g.cN("yt-remote-session-name",C.name)):(g.AT("yt-remote-session-app"),g.AT("yt-remote-session-name")),g.Vy("yt.mdx.remote.channelParams_",C),L.start(),cE()||hnr())}},tZe=function(C,m,L,h){C.info("requestLoungeToken_ for "+m);
var V={postParams:{screen_ids:m},method:"POST",context:C,onSuccess:function(S,U){S=U&&U.screens||[];S[0]&&S[0].screenId==m?L(S[0].loungeToken):h(Error("Missing lounge token in token response"))},
onError:function(){h(Error("Request screen lounge token failed"))}};
g.g8(fp(C.V,"/pairing/get_lounge_token_batch"),V)},DW=function(C){g.Vy("yt.mdx.remote.connectData_",C)},uM=function(C,m,L){var h=C.videoId;
C.videoId=m;C.index=L;m!=h&&$s4(C)},ioe=function(C){if(C.length==0)return[];
var m=C[0].indexOf("#"),L=m==-1?C[0]:C[0].substring(0,m);return g.y0(C,function(h,V){return V==0?h:h.substring(L.length)})},Qfl=function(C){if(C.QK||C.YL||C.xP>=3)return!1;
C.S++;C.YL=HE((0,g.eW)(C.w8,C),Xn4(C,C.xP));C.xP++;return!0},eFr=function(C,m,L){if(g.Em(C))g.Gl(C,m,L);
else for(C=ob4(C);;){var h=C.next();if(h.done)break;m.call(L,h.value,void 0,C)}},Dq4=function(C){var m={};
m.index=C.index;m.listId=C.listId;m.videoId=C.videoId;m.playerState=C.playerState;m.volume=C.volume;m.muted=C.muted;m.audioTrackId=C.audioTrackId;m.trackData=g.tX(C.trackData);m.hasPrevious=C.hasPrevious;m.hasNext=C.hasNext;m.playerTime=C.N;m.playerTimeAt=C.C;m.seekableStart=C.L;m.seekableEnd=C.S;m.duration=C.G;m.loadedTime=C.loadedTime;m.liveIngestionTime=C.T;return m},Ag=function(C){return C.getState()==1},lM=function(C,m){C.W8&&(C=C.W8.Zr())&&g.Kt(C,function(L,h){g.AZ(m,h,L)})},Grl=function(){var C=
jf7();
!C&&D6()&&xsC()&&(C={key:"cast-selector-receiver",name:xsC()});return C},Y1r=function(C,m){var L=C.screens.length!=m.length;
C.screens=g.wt(C.screens,function(S){return!!l0C(m,S)});
for(var h=m.length,V=0;V<h;V++)L=S1e(C,m[V])||L;return L},nIr=function(){return D6()?gB()?gB().getCastSession():(Fp("getCastSelector: Cast is not initialized."),null):(Fp("getCastSelector: Cast API is not installed!"),null)},pp=function(C){return C?'{name:"'+C.name+'",id:'+C.id.substr(0,6)+"..,token:"+((C.token?".."+C.token.slice(-6):"-")+",uuid:"+(C.uuid?".."+C.uuid.slice(-6):"-")+",idType:"+C.idType+",secret:")+((C.secret?".."+C.secret.slice(-6):"-")+"}"):"null"},g1l=function(C){g.Cv(C.Y);
C.Y=0;g.Cv(C.N);C.N=0;g.Cv(C.zT);C.zT=0;g.Cv(C.C);C.C=0;g.Cv(C.S);C.S=0},sn=function(C,m,L){C.Zb=C.N==null?L:!C.N;
C.Oj=m.HI;C.Y||ZZ8(C)},ho=function(C,m){C.N=m;
C.C=g.NY()},dEJ=function(C){return Array.isArray(C)?g.y0(C,sm4):[]},tvW=function(C,m){var L=C.x3+Math.floor(Math.random()*C.xE);
C.isActive()||(L*=2);return L*m},rj=function(C,m){g.xN.call(this);
this.T=new krQ(m);this.C=C;this.L=m&&m.gum||null;C=m&&m.hGx||null;m&&m.qGA&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"});this.T.QL=C;C=m&&m.CPx||null;m&&m.Pb&&(C?C["X-WebChannel-Content-Type"]=m.Pb:C={"X-WebChannel-Content-Type":m.Pb});m&&m.Jb&&(C?C["X-WebChannel-Client-Profile"]=m.Jb:C={"X-WebChannel-Client-Profile":m.Jb});this.T.Et=C;(C=m&&m.XWL)&&!g.$C(C)&&(this.T.S=C);this.N=m&&m.p34||!1;this.V=m&&m.XxP||!1;(m=m&&m.hkN)&&!g.$C(m)&&(this.T.LP=m,g.rG(this.L,m)&&(C=
this.L,m in C&&delete C[m]));this.G=new hm(this)},LU=function(C,m){Hi7();
var L=oxC(C,String(m));IJ.length==0?rxJ(L):(FVr(),g.Gl(IJ,function(h){h(L)}))},GA=function(C,m){m=m===void 0?!1:m;
vs.call(this,"ScreenService");this.V=C;this.S=m;this.T=this.L=null;this.G=[];this.C={};yhW(this)},iKr=function(C,m){this.L=C;
this.T=m},IKJ=function(C){oJ(C)&&C.G.getDialAppInfo(function(m){C.info("getDialAppInfo dialLaunchData: "+JSON.stringify(m));
m=m.extraData||{};var L=null;if(m.loungeToken){var h;((h=C.T)==null?void 0:h.token)==m.loungeToken&&(L="staleLoungeToken")}else L="missingLoungeToken";L?(C.gY=L,i2(C,3E4)):(C.TT=!1,C.gY="unknown",vIz(C,m.loungeToken),i2(C,m.loungeTokenRefreshIntervalMs))},function(m){C.info("getDialAppInfo error: "+m);
C.gY="noLoungeTokenResponse";i2(C,3E4)})},Qc=function(C,m,L){return L&&L.Gbx?L.Gbx[C]||m:m},AX4=function(C,m){var L=C.Y.receiver.label,h=C.L.friendlyName;
return(new Promise(function(V){T7z(C.V,L,m,h,function(S){S&&S.token&&Ws(C,S);V(S)},function(S){jH(C,"Failed to get DIAL screen: "+S);
V(null)})})).then(function(V){return V&&V.token?new chrome.cast.DialLaunchResponse(!1):$E2(C)})},k5=function(C,m){g.He[C]=!0;
var L=g.jD();L&&L.publish.apply(L,arguments);g.He[C]=!1},pD=function(C){return C.S||!!C.G.length||!!C.T},mar=function(C){var m=0;
C.QK&&m++;C.e_&&m++;return m},Ps=function(C,m,L){g.SK.call(this);
this.LP=L;this.V=C;this.L=m;this.T=null},Ff4=function(C,m){g.Cv(C.zT);
C.zT=0;m?C.config_.enableCastLoungeToken&&m.loungeToken?m.deviceId?C.T&&C.T.uuid==m.deviceId||(m.loungeTokenRefreshIntervalMs?yJF(C,{name:C.L.friendlyName,screenId:m.screenId,loungeToken:m.loungeToken,dialId:m.deviceId,screenIdType:"shortLived"},m.loungeTokenRefreshIntervalMs):(g.XW(Error("No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: "+JSON.stringify(m)+".")),uGz(C,m.screenId))):(g.XW(Error("No device id presents in mdxSessionStatusData: "+JSON.stringify(m)+".")),uGz(C,m.screenId)):
uGz(C,m.screenId):C.Km(Error("Waiting for session status timed out."))};
g.PQ.prototype.WJ=g.w8(49,function(){this.app.dL().WJ()});
g.nf.prototype.WJ=g.w8(48,function(){this.O_=null});
g.PQ.prototype.CD=g.w8(47,function(C){this.app.dL().CD(C)});
g.nf.prototype.CD=g.w8(46,function(C){this.O_=C});
y87.prototype.w3=function(C){this.T.MW("/client_streamz/youtube/living_room/mdx/channel/opened",C)};
J8z.prototype.w3=function(C){this.T.MW("/client_streamz/youtube/living_room/mdx/channel/closed",C)};
UaC.prototype.w3=function(C){this.T.MW("/client_streamz/youtube/living_room/mdx/channel/message_received",C)};
uOJ.prototype.w3=function(){this.T.MW("/client_streamz/youtube/living_room/mdx/channel/success")};
Ai8.prototype.w3=function(C,m){this.T.MW("/client_streamz/youtube/living_room/mdx/channel/error",C,m)};
q1r.prototype.w3=function(){this.T.MW("/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")};
KG2.prototype.w3=function(){this.T.MW("/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")};
g.n=Jo.prototype;g.n.lO=function(){Kp(this);for(var C=[],m=0;m<this.T.length;m++)C.push(this.L[this.T[m]]);return C};
g.n.Zw=function(){Kp(this);return this.T.concat()};
g.n.has=function(C){return wB(this.L,C)};
g.n.equals=function(C,m){if(this===C)return!0;if(this.size!=C.size)return!1;m=m||WGW;Kp(this);for(var L,h=0;L=this.T[h];h++)if(!m(this.get(L),C.get(L)))return!1;return!0};
g.n.isEmpty=function(){return this.size==0};
g.n.clear=function(){this.L={};this.un=this.size=this.T.length=0};
g.n.remove=function(C){return this.delete(C)};
g.n.delete=function(C){return wB(this.L,C)?(delete this.L[C],--this.size,this.un++,this.T.length>2*this.size&&Kp(this),!0):!1};
g.n.get=function(C,m){return wB(this.L,C)?this.L[C]:m};
g.n.set=function(C,m){wB(this.L,C)||(this.size+=1,this.T.push(C),this.un++);this.L[C]=m};
g.n.forEach=function(C,m){for(var L=this.Zw(),h=0;h<L.length;h++){var V=L[h],S=this.get(V);C.call(m,S,V,this)}};
g.n.clone=function(){return new Jo(this)};
g.n.keys=function(){return g.TN(this.IE(!0)).T()};
g.n.values=function(){return g.TN(this.IE(!1)).T()};
g.n.entries=function(){var C=this;return SVl(this.keys(),function(m){return[m,C.get(m)]})};
g.n.IE=function(C){Kp(this);var m=0,L=this.un,h=this,V=new g.UZ;V.next=function(){if(L!=h.un)throw Error("The map has changed since the iterator was created");if(m>=h.T.length)return g.Z9;var S=h.T[m++];return g.Cw(C?S:h.L[S])};
return V};
var kQ7={t_q:"atp",tTx:"ska",jwL:"que",iJm:"mus",r6x:"sus",Loq:"dsp",gLq:"seq",JTL:"mic",Azq:"dpa",Mk4:"mlm",b5P:"dsdtr",jbN:"ntb",LxQ:"vsp",Ihq:"scn",Wmq:"rpe",eUA:"dcn",qOQ:"dcp",gBY:"pas",kEx:"drq",BtQ:"opf",i5q:"els",czL:"isg",Go4:"svq",cTN:"mvp",J0m:"ads",SHQ:"stcp",XIq:"sads",pCT:"dloc",mWL:"dcw",NS4:"asw",DoN:"apw",uPY:"wrc",rXm:"pcw",oyq:"ipv",YDq:"ndt",lhY:"ctops"},HTQ={Erx:"u",a2N:"cl",Ttx:"k",DSQ:"i",EoQ:"cr",IUx:"m",ooL:"g",DX:"up"},pvW={U0:"adPlaying",gi:"onAdStateChange"},nA4={WQ5:"nowPlaying",
xpx:"onStateChange",U0:"adPlaying",gi:"onAdStateChange",TO:"nowPlayingShorts",Eo:"onShortsStateChange"},Jh8={TO:"nowPlayingShorts",Eo:"onShortsStateChange"};l2.prototype.equals=function(C){return C?this.id==C.id:!1};
var Ahz="",O9=null;g.I(lFz,g.Hq);var kl,YO4=UFC("loadCastFramework")||UFC("loadCastApplicationFramework"),GL2=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.dz(cs,g.T);g.n=cs.prototype;g.n.MM=function(C){this.V=arguments;this.T=!1;this.IH?this.G=g.NY()+this.U_:this.IH=g.eL(this.C,this.U_)};
g.n.stop=function(){this.IH&&(g.V7.clearTimeout(this.IH),this.IH=null);this.G=null;this.T=!1;this.V=[]};
g.n.pause=function(){++this.L};
g.n.resume=function(){this.L&&(--this.L,!this.L&&this.T&&(this.T=!1,this.N.apply(null,this.V)))};
g.n.Rm=function(){this.stop();cs.UX.Rm.call(this)};
g.n.cA=function(){this.IH&&(g.V7.clearTimeout(this.IH),this.IH=null);this.G?(this.IH=g.eL(this.C,this.G-g.NY()),this.G=null):this.L?this.T=!0:(this.T=!1,this.N.apply(null,this.V))};dB.prototype.stringify=function(C){return g.V7.JSON.stringify(C,void 0)};
dB.prototype.parse=function(C){return g.V7.JSON.parse(C,void 0)};g.dz(DE4,g.uv);g.dz(vR7,g.uv);var soz=null;g.dz(saW,g.uv);g.dz(h3z,g.uv);g.dz(CIQ,g.uv);aJ.prototype.debug=function(){};
aJ.prototype.info=function(){};
aJ.prototype.warning=function(){};var WV8={},oR2={};g.n=On.prototype;g.n.setTimeout=function(C){this.fP=C};
g.n.I5=function(C){C=C.target;var m=this.dY;m&&g.Wr(C)==3?m.Kn():this.qZ(C)};
g.n.qZ=function(C){try{if(C==this.T)a:{var m=g.Wr(this.T),L=this.T.L,h=this.T.getStatus();if(!(m<3)&&(m!=3||this.T&&(this.L.L||g.kz(this.T)||g.Fv(this.T)))){this.kN||m!=4||L==7||(L==8||h<=0?mB(3):mB(2));nxW(this);var V=this.T.getStatus();this.lV=V;var S=RcW(this);if(this.N=V==200){if(this.Et&&!this.D5){b:{if(this.T){var U=g.Ft(this.T,"X-HTTP-Initial-Response");if(U&&!g.$C(U)){var Z=U;break b}}Z=null}if(C=Z)this.D5=!0,uar(this,C);else{this.N=!1;this.C=3;eH(12);tm(this);Un(this);break a}}if(this.LP){C=
!0;for(var k;!this.kN&&this.S<S.length;)if(k=ii4(this,S),k==oR2){m==4&&(this.C=4,eH(14),C=!1);break}else if(k==WV8){this.C=4;eH(15);C=!1;break}else uar(this,k);j8J(this)&&this.S!=0&&(this.L.T=this.L.T.slice(this.S),this.S=0);m!=4||S.length!=0||this.L.L||(this.C=1,eH(16),C=!1);this.N=this.N&&C;C?S.length>0&&!this.Co&&(this.Co=!0,this.G.ix(this)):(tm(this),Un(this))}else uar(this,S);m==4&&tm(this);this.N&&!this.kN&&(m==4?QiJ(this.G,this):(this.N=!1,WE(this)))}else g.twJ(this.T),V==400&&S.indexOf("Unknown SID")>
0?(this.C=3,eH(12)):(this.C=0,eH(13)),tm(this),Un(this)}}}catch(R){}finally{}};
g.n.cancel=function(){this.kN=!0;tm(this)};
g.n.im=function(){this.zT=null;var C=Date.now();C-this.Hq>=0?(this.rY!=2&&(mB(3),eH(17)),tm(this),this.C=2,Un(this)):rhe(this,this.Hq-C)};
g.n.getLastError=function(){return this.C};
g.n.f6=function(){return this.T};WmF.prototype.cancel=function(){this.G=a07(this);if(this.L)this.L.cancel(),this.L=null;else if(this.T&&this.T.size!==0){for(var C=g.H(this.T.values()),m=C.next();!m.done;m=C.next())m.value.cancel();this.T.clear()}};g.n=krQ.prototype;g.n.kR=8;g.n.a9=1;g.n.connect=function(C,m,L,h){eH(0);this.I3=C;this.kN=m||{};L&&h!==void 0&&(this.kN.OSID=L,this.kN.OAID=h);this.dY=this.RH;this.eA=IF7(this,null,this.I3);iM(this)};
g.n.disconnect=function(){fD7(this);if(this.a9==3){var C=this.wY++,m=this.eA.clone();g.AZ(m,"SID",this.V);g.AZ(m,"RID",C);g.AZ(m,"TYPE","terminate");NB(this,m);C=new On(this,this.V,C);C.rY=2;C.Y=to(m.clone());m=!1;if(g.V7.navigator&&g.V7.navigator.sendBeacon)try{m=g.V7.navigator.sendBeacon(C.Y.toString(),"")}catch(L){}!m&&g.V7.Image&&((new Image).src=C.Y,m=!0);m||(C.T=ecz(C.G,null),C.T.send(C.Y));C.gY=Date.now();WE(C)}esz(this)};
g.n.aP=function(){return this.a9==0};
g.n.getState=function(){return this.a9};
g.n.r8=function(C){if(this.N)if(this.N=null,this.a9==1){if(!C){this.wY=Math.floor(Math.random()*1E5);C=this.wY++;var m=new On(this,"",C),L=this.QL;this.Et&&(L?(L=g.ne(L),g.Ki(L,this.Et)):L=this.Et);this.S!==null||this.Hq||(m.eA=L,L=null);var h;if(this.Ux)a:{for(var V=h=0;V<this.G.length;V++){b:{var S=this.G[V];if("__data__"in S.map&&(S=S.map.__data__,typeof S==="string")){S=S.length;break b}S=void 0}if(S===void 0)break;h+=S;if(h>4096){h=V;break a}if(h===4096||V===this.G.length-1){h=V+1;break a}}h=
1E3}else h=1E3;h=Qoe(this,m,h);V=this.eA.clone();g.AZ(V,"RID",C);g.AZ(V,"CVER",22);this.LP&&g.AZ(V,"X-HTTP-Session-Id",this.LP);NB(this,V);L&&(this.Hq?h="headers="+g.DT(g.b0R(L))+"&"+h:this.S&&g.bF(V,this.S,L));z32(this.L,m);this.Q5&&g.AZ(V,"TYPE","init");this.Ux?(g.AZ(V,"$req",h),g.AZ(V,"SID","null"),m.Et=!0,G34(m,V,null)):G34(m,V,h);this.a9=2}}else this.a9==3&&(C?gbr(this,C):this.G.length==0||ZoC(this.L)||gbr(this))};
g.n.bN=function(){this.Y=null;joW(this);if(this.Wl&&!(this.fP||this.T==null||this.hU<=0)){var C=4*this.hU;this.Xq=RZ((0,g.eW)(this.ZHT,this),C)}};
g.n.ZHT=function(){this.Xq&&(this.Xq=null,this.dY=!1,this.fP=!0,eH(10),b2(this),joW(this))};
g.n.ix=function(C){this.T==C&&this.Wl&&!this.fP&&(Plz(this),this.fP=!0,eH(11))};
g.n.ZZ=function(){this.zT!=null&&(this.zT=null,b2(this),ExW(this),eH(19))};
g.n.JQ5=function(C){C?eH(2):eH(1)};
g.n.isActive=function(){return!!this.C&&this.C.isActive(this)};
g.n=HZC.prototype;g.n.J3=function(){};
g.n.mH=function(){};
g.n.t3=function(){};
g.n.A3=function(){};
g.n.isActive=function(){return!0};
g.n.PA=function(){};g.dz(rj,g.xN);rj.prototype.open=function(){this.T.C=this.G;this.N&&(this.T.D5=!0);this.T.connect(this.C,this.L||void 0)};
rj.prototype.close=function(){this.T.disconnect()};
rj.prototype.send=function(C){var m=this.T;if(typeof C==="string"){var L={};L.__data__=C;C=L}else this.V&&(L={},L.__data__=g.Sz(C),C=L);m.G.push(new CN4(m.oZ++,C));m.a9==3&&iM(m)};
rj.prototype.Rm=function(){this.T.C=null;delete this.G;this.T.disconnect();delete this.T;rj.UX.Rm.call(this)};
g.dz(ZTr,DE4);g.dz(da2,vR7);g.dz(hm,HZC);hm.prototype.J3=function(){this.T.dispatchEvent("m")};
hm.prototype.mH=function(C){this.T.dispatchEvent(new ZTr(C))};
hm.prototype.t3=function(C){this.T.dispatchEvent(new da2(C))};
hm.prototype.A3=function(){this.T.dispatchEvent("n")};
iKr.prototype.commit=function(C){this.T.lV=C};var $5=new g.xN;g.I(zsl,g.uv);g.n=En.prototype;g.n.Kq=null;g.n.j5=!1;g.n.oM=null;g.n.pR=null;g.n.n8=null;g.n.M3=null;g.n.Zg=null;g.n.SH=null;g.n.aF=null;g.n.qo=null;g.n.ip=0;g.n.hK=null;g.n.cH=null;g.n.vx=null;g.n.PV=-1;g.n.T5=!0;g.n.f8=!1;g.n.qV=0;g.n.wQ=null;var gx2={},GJW={};g.n=En.prototype;g.n.setTimeout=function(C){this.L=C};
g.n.vA=function(C){C=C.target;var m=this.wQ;m&&g.Wr(C)==3?m.Kn():this.Dr(C)};
g.n.Dr=function(C){try{if(C==this.qo)a:{var m=g.Wr(this.qo),L=this.qo.L,h=this.qo.getStatus();if(g.TH&&!g.Fy("420+")){if(m<4)break a}else if(m<3||m==3&&!g.kz(this.qo))break a;this.f8||m!=4||L==7||(L==8||h<=0?this.T.xH(3):this.T.xH(2));PNr(this);var V=this.qo.getStatus();this.PV=V;var S=g.kz(this.qo);if(this.j5=V==200){m==4&&Z6(this);if(this.LP){for(C=!0;!this.f8&&this.ip<S.length;){var U=AJW(this,S);if(U==GJW){m==4&&(this.vx=4,CU(15),C=!1);break}else if(U==gx2){this.vx=4;CU(16);C=!1;break}else vx4(this,
U)}m==4&&S.length==0&&(this.vx=1,CU(17),C=!1);this.j5=this.j5&&C;C||(Z6(this),MvF(this))}else vx4(this,S);this.j5&&!this.f8&&(m==4?this.T.tG(this):(this.j5=!1,jir(this)))}else V==400&&S.indexOf("Unknown SID")>0?(this.vx=3,CU(13)):(this.vx=0,CU(14)),Z6(this),MvF(this)}}catch(Z){}finally{}};
g.n.cancel=function(){this.f8=!0;Z6(this)};
g.n.Ke=function(){this.oM=null;var C=Date.now();C-this.pR>=0?(this.M3!=2&&this.T.xH(3),Z6(this),this.vx=2,CU(18),MvF(this)):HoF(this,this.pR-C)};
g.n.getLastError=function(){return this.vx};g.n=hcz.prototype;g.n.AG=null;g.n.Uy=null;g.n.Ns=!1;g.n.mD=null;g.n.dU=null;g.n.HI=-1;g.n.Ir=null;g.n.D4=null;g.n.connect=function(C){this.mD=C;C=aZ(this.T,null,this.mD);CU(3);Date.now();var m=this.T.QL;m!=null?(this.Ir=m[0],(this.D4=m[1])?(this.dU=1,nb4(this)):(this.dU=2,VZW(this))):(VP(C,"MODE","init"),this.Uy=new En(this),this.Uy.Kq=this.AG,aFz(this.Uy,C,!1,null,!0),this.dU=0)};
g.n.qk=function(C){if(C)this.dU=2,VZW(this);else{CU(4);var m=this.T;m.Oj=m.X1.HI;CD(m,9)}C&&this.xH(2)};
g.n.rV=function(C){return this.T.rV(C)};
g.n.abort=function(){this.Uy&&(this.Uy.cancel(),this.Uy=null);this.HI=-1};
g.n.aP=function(){return!1};
g.n.NZ=function(C,m){this.HI=C.PV;if(this.dU==0)if(m){try{var L=this.L.parse(m)}catch(h){C=this.T;C.Oj=this.HI;CD(C,2);return}this.Ir=L[0];this.D4=L[1]}else C=this.T,C.Oj=this.HI,CD(C,2);else this.dU==2&&(this.Ns?(CU(7),Date.now()):m=="11111"?(CU(6),this.Ns=!0,Date.now(),this.HI=200,this.Uy.cancel(),CU(12),sn(this.T,this,!0)):(CU(8),Date.now(),this.Ns=!1))};
g.n.tG=function(){this.HI=this.Uy.PV;if(this.Uy.j5)this.dU==0?this.D4?(this.dU=1,nb4(this)):(this.dU=2,VZW(this)):this.dU==2&&(this.Ns?(CU(12),sn(this.T,this,!0)):(CU(11),sn(this.T,this,!1)));else{this.dU==0?CU(9):this.dU==2&&CU(10);var C=this.T;this.Uy.getLastError();C.Oj=this.HI;CD(C,2)}};
g.n.K8=function(){return this.T.K8()};
g.n.isActive=function(){return this.T.isActive()};
g.n.xH=function(C){this.T.xH(C)};g.n=aKr.prototype;g.n.wU=null;g.n.vV=null;g.n.e_=null;g.n.QK=null;g.n.Di=null;g.n.Zy=null;g.n.uN=null;g.n.JG=null;g.n.j6=0;g.n.a5=0;g.n.W8=null;g.n.a4=null;g.n.YL=null;g.n.Hx=null;g.n.X1=null;g.n.Zb=null;g.n.zf=-1;g.n.d8=-1;g.n.Oj=-1;g.n.QC=0;g.n.xP=0;g.n.Wx=8;var rX4={OK:0,oBY:2,pRP:4,HJq:5,sLT:6,STOP:7,zO:8,u8T:9,JHY:10,Nh5:11,doT:12};g.dz(gAW,g.uv);g.dz(Kfe,g.uv);g.n=aKr.prototype;
g.n.connect=function(C,m,L,h,V){CU(0);this.Di=m;this.vV=L||{};h&&V!==void 0&&(this.vV.OSID=h,this.vV.OAID=V);this.Y?(HE((0,g.eW)(this.wc,this,C),100),ZZ8(this)):this.wc(C)};
g.n.disconnect=function(){B7z(this);if(this.T==3){var C=this.j6++,m=this.Zy.clone();g.AZ(m,"SID",this.V);g.AZ(m,"RID",C);g.AZ(m,"TYPE","terminate");lM(this,m);C=new En(this,this.V,C);C.M3=2;C.Zg=to(m.clone());(new Image).src=C.Zg.toString();C.n8=Date.now();jir(C)}KVz(this)};
g.n.wc=function(C){this.X1=new hcz(this);this.X1.AG=this.wU;this.X1.L=this.C;this.X1.connect(C)};
g.n.aP=function(){return this.T==0};
g.n.getState=function(){return this.T};
g.n.SF=function(C){this.a4=null;Lf4(this,C)};
g.n.w8=function(){this.YL=null;this.QK=new En(this,this.V,"rpc",this.S);this.QK.Kq=this.wU;this.QK.qV=0;var C=this.uN.clone();g.AZ(C,"RID","rpc");g.AZ(C,"SID",this.V);g.AZ(C,"CI",this.Zb?"0":"1");g.AZ(C,"AID",this.zf);lM(this,C);g.AZ(C,"TYPE","xmlhttp");aFz(this.QK,C,!0,this.JG,!1)};
g.n.NZ=function(C,m){if(this.T!=0&&(this.QK==C||this.e_==C))if(this.Oj=C.PV,this.e_==C&&this.T==3)if(this.Wx>7){try{var L=this.C.parse(m)}catch(h){L=null}if(Array.isArray(L)&&L.length==3)if(C=L,C[0]==0)a:{if(!this.YL){if(this.QK)if(this.QK.n8+3E3<this.e_.n8)UJ(this),this.QK.cancel(),this.QK=null;else break a;Qfl(this);CU(19)}}else this.d8=C[1],0<this.d8-this.zf&&C[2]<37500&&this.Zb&&this.xP==0&&!this.Hx&&(this.Hx=HE((0,g.eW)(this.WA,this),6E3));else CD(this,11)}else m!="y2f%"&&CD(this,11);else if(this.QK==
C&&UJ(this),!g.$C(m))for(C=this.C.parse(m),m=0;m<C.length;m++)L=C[m],this.zf=L[0],L=L[1],this.T==2?L[0]=="c"?(this.V=L[1],this.JG=L[2],L=L[3],L!=null?this.Wx=L:this.Wx=6,this.T=3,this.W8&&this.W8.iN(),this.uN=aZ(this,this.K8()?this.JG:null,this.Di),Yd7(this)):L[0]=="stop"&&CD(this,7):this.T==3&&(L[0]=="stop"?CD(this,7):L[0]!="noop"&&this.W8&&this.W8.cU(L),this.xP=0)};
g.n.WA=function(){this.Hx!=null&&(this.Hx=null,this.QK.cancel(),this.QK=null,Qfl(this),CU(20))};
g.n.tG=function(C){if(this.QK==C){UJ(this);this.QK=null;var m=2}else if(this.e_==C)this.e_=null,m=1;else return;this.Oj=C.PV;if(this.T!=0)if(C.j5)if(m==1){m=C.aF?C.aF.length:0;C=Date.now()-C.n8;var L=$5;L.dispatchEvent(new gAW(L,m,C,this.QC));Kml(this);this.W8&&this.W8.I7(this,this.G);this.G.length=0}else Yd7(this);else{L=C.getLastError();var h;if(!(h=L==3||L==7||L==0&&this.Oj>0)){if(h=m==1)this.e_||this.a4||this.T==1||this.QC>=2?h=!1:(this.a4=HE((0,g.eW)(this.SF,this,C),Xn4(this,this.QC)),this.QC++,
h=!0);h=!(h||m==2&&Qfl(this))}if(h)switch(L){case 1:CD(this,5);break;case 4:CD(this,10);break;case 3:CD(this,6);break;case 7:CD(this,12);break;default:CD(this,2)}}};
g.n.jV=function(C){if(!g.d7(arguments,this.T))throw Error("Unexpected channel state: "+this.T);};
g.n.mEx=function(C){C?CU(2):(CU(1),vbW(this,8))};
g.n.rV=function(C){if(C)throw Error("Can't create secondary domain capable XhrIo object.");C=new g.An;C.S=!1;return C};
g.n.isActive=function(){return!!this.W8&&this.W8.isActive(this)};
g.n.xH=function(C){var m=$5;m.dispatchEvent(new Kfe(m,C))};
g.n.K8=function(){return!1};
g.n=LVC.prototype;g.n.iN=function(){};
g.n.cU=function(){};
g.n.I7=function(){};
g.n.MZ=function(){};
g.n.NV=function(){};
g.n.Zr=function(){return{}};
g.n.isActive=function(){return!0};g.n=riz.prototype;g.n.enqueue=function(C){this.L.push(C)};
g.n.isEmpty=function(){return this.T.length===0&&this.L.length===0};
g.n.clear=function(){this.T=[];this.L=[]};
g.n.contains=function(C){return g.d7(this.T,C)||g.d7(this.L,C)};
g.n.remove=function(C){var m=this.T;var L=(0,g.PM$)(m,C);L>=0?(g.bK(m,L),m=!0):m=!1;return m||g.uK(this.L,C)};
g.n.lO=function(){for(var C=[],m=this.T.length-1;m>=0;--m)C.push(this.T[m]);m=this.L.length;for(var L=0;L<m;++L)C.push(this.L[L]);return C};g.I(SoF,g.uv);g.I(OZz,g.uv);g.dz(S8,g.T);g.n=S8.prototype;g.n.FVA=function(){this.U_=Math.min(3E5,this.U_*2);this.L();this.HX&&this.start()};
g.n.start=function(){var C=this.U_+15E3*Math.random();g.ns(this.T,C);this.HX=Date.now()+C};
g.n.stop=function(){this.T.stop();this.HX=0};
g.n.isActive=function(){return this.T.isActive()};
g.n.reset=function(){this.T.stop();this.U_=5E3};g.dz(YVF,LVC);g.n=YVF.prototype;g.n.subscribe=function(C,m,L){return this.S.subscribe(C,m,L)};
g.n.unsubscribe=function(C,m,L){return this.S.unsubscribe(C,m,L)};
g.n.j8=function(C){return this.S.j8(C)};
g.n.publish=function(C,m){return this.S.publish.apply(this.S,arguments)};
g.n.dispose=function(){this.Y||(this.Y=!0,g.hx(this.S),this.disconnect(),g.hx(this.L),this.L=null,this.kN=function(){return""},this.rY=function(){return g.Pm({})})};
g.n.bL=function(){return this.Y};
g.n.connect=function(C,m,L){var h=this,V,S,U,Z;return g.w(function(k){if(k.T==1)return g.N5(k,2),h.C?g.N(k,h.V,2):k.GT(2);g.sY(k);if(h.Y||h.T&&h.T.getState()==2&&!h.N)return k.return();h.Xq="";h.N||h.L.stop();h.zT=C||null;h.QL=m||0;V=h.D5+"/test";S=h.D5+"/bind";U=new aKr(L?L.firstTestResults:null,L?L.secondTestResults:null,h.AI);if(Z=h.T)Z.W8=null;U.W8=h;h.T=U;if(h.C)return h.V=hrJ(h).then(function(){return Lpz(h,V,S,Z,L)}),k.return(h.V.then(function(){h.V=g.Pm()}));
Lpz(h,V,S,Z,L);return g.bV(k,0)})};
g.n.disconnect=function(C){try{this.C&&(this.V.cancel(),this.V=g.Pm())}finally{this.gY=C||0,this.L&&this.L.stop(),Ck4(this),this.T&&(this.T.getState()==3&&Lf4(this.T),this.T.disconnect()),this.gY=0}};
g.n.sendMessage=function(C,m){var L=this,h;return g.w(function(V){switch(V.T){case 1:g.N5(V,2);if(!L.C){V.GT(2);break}return g.N(V,L.V,2);case 2:g.sY(V);if(L.Y)return V.return();h={_sc:C};m&&g.Ki(h,m);if(L.L.isActive()||(L.T?L.T.getState():0)==2){L.G.push(h);V.GT(6);break}if(!L.Uv()){V.GT(6);break}g.N5(V,8);if(!L.C||lD4(L,C)){V.GT(8);break}return g.N(V,hrJ(L),8);case 8:g.sY(V,0,0,1);L.Uv()&&(lD4(L,C)||BtW(L),Ck4(L),Oo4(L.T,h));g.bV(V,6,1);break;case 6:g.bV(V,0)}})};
g.n.iN=function(){this.N?(this.L.stop(),g.hx(this.L),this.L=new S8(this.b$,this),this.N=!1):this.L.reset();this.zT=null;this.QL=0;if(this.G.length)if(this.C)Jxz(this);else{var C=this.G;this.G=[];var m=C.length;BtW(this);Sd8(this,C,m);PE(this)}else PE(this)};
g.n.MZ=function(C){var m=C==2&&this.T.Oj==401;C==4||m||this.L.start();this.publish("handlerError",C,m);m=Object.keys(rX4).find(function(L){return rX4[L]===C});
this.wY.w3("BROWSER_CHANNEL",m!=null?m:"UNKNOWN")};
g.n.NV=function(C,m){if(!this.L.isActive())this.publish("handlerClosed");else if(m)for(var L=m.length,h=0;h<L;++h){var V=m[h].map;V&&this.G.push(V)}this.dY.w3("BROWSER_CHANNEL");C&&this.Wl.T.dV("/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",C.length);m&&this.hU.T.dV("/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",m.length)};
g.n.I7=function(C,m){m!=null&&C!=null&&this.Hq.w3()};
g.n.Zr=function(){var C={v:2};this.Xq&&(C.gsessionid=this.Xq);this.QL!=0&&(C.ui=""+this.QL);this.gY!=0&&(C.ui=""+this.gY);this.zT&&g.Ki(C,this.zT);return C};
g.n.cU=function(C){C[0]=="S"?this.Xq=C[1]:C[0]=="gracefulReconnect"?(this.L.start(),this.T.disconnect()):this.publish("handlerMessage",new dFz(C[0],C[1]));this.nP.w3("BROWSER_CHANNEL")};
g.n.Uv=function(){return!!this.T&&this.T.getState()==3};
g.n.AR=function(C){(this.TT.loungeIdToken=C)||this.L.stop();if(this.I3&&this.T){var m=this.T.wU||{};C?m["X-YouTube-LoungeId-Token"]=C:delete m["X-YouTube-LoungeId-Token"];this.T.wU=m}};
g.n.getDeviceId=function(){return this.TT.id};
g.n.It=function(){return this.L.isActive()?this.L.HX-Date.now():NaN};
g.n.x9=function(){var C=this.L;g.Gk(C.T);C.start()};
g.n.b$=function(){this.L.isActive();mar(this.T)==0&&this.connect(this.zT,this.QL)};xl.prototype.sendRequest=function(C,m,L,h,V,S,U){C={format:S?"RAW":"JSON",method:C,context:this,timeout:5E3,withCredentials:!!U,onSuccess:g.LZ(this.V,h,!S),onError:g.LZ(this.G,V),onTimeout:g.LZ(this.C,V)};L&&(C.postParams=L,C.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.g8(m,C)};
xl.prototype.V=function(C,m,L,h){m?C(h):C({text:L.responseText})};
xl.prototype.G=function(C,m){C(Error("Request error: "+m.status))};
xl.prototype.C=function(C){C(Error("request timed out"))};g.I(dsz,g.xN);g.n=dsz.prototype;g.n.connect=function(C,m,L){this.handler.connect(C,m,L)};
g.n.disconnect=function(C){this.handler.disconnect(C)};
g.n.x9=function(){this.handler.x9()};
g.n.getDeviceId=function(){return this.handler.getDeviceId()};
g.n.It=function(){return this.handler.It()};
g.n.Uv=function(){return this.handler.Uv()};
g.n.HA=function(){this.dispatchEvent("channelOpened");var C=this.handler,m=this.T;g.cN("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!C.T.Zb,sessionId:C.T.V,arrayId:C.T.zf});g.cN("yt-remote-session-screen-id",m);C=s9();m=GS();g.d7(C,m)||C.push(m);KpW(C);xF4()};
g.n.onClosed=function(){this.dispatchEvent("channelClosed")};
g.n.onMessage=function(C){this.dispatchEvent(new SoF(C))};
g.n.onError=function(C){this.dispatchEvent(new OZz(C?1:0))};
g.n.sendMessage=function(C,m){this.handler.sendMessage(C,m)};
g.n.AR=function(C){this.handler.AR(C)};
g.n.dispose=function(){this.handler.dispose()};g.n=yxC.prototype;
g.n.connect=function(C,m){C=C===void 0?{}:C;m=m===void 0?0:m;this.N!==2&&(this.G.stop(),this.Y=C,this.S=m,kJW(this),(C=g.Wl("ID_TOKEN"))?this.V["x-youtube-identity-token"]=C:delete this.V["x-youtube-identity-token"],this.T&&(this.L.device=this.T.device,this.L.name=this.T.name,this.L.app=this.T.app,this.L.id=this.T.id,this.T.l1N&&(this.L.mdxVersion=""+this.T.l1N),this.T.theme&&(this.L.theme=this.T.theme),this.T.capabilities&&(this.L.capabilities=this.T.capabilities),this.T.Pe&&(this.L.cst=this.T.Pe),
this.T.authuser&&(this.L.authuser=this.T.authuser),this.T.pageId&&(this.L.pageId=this.T.pageId)),this.S!==0?this.L.ui=""+this.S:delete this.L.ui,Object.assign(this.L,this.Y),this.channel=new rj(this.pathPrefix,{hkN:"gsessionid",hGx:this.V,gum:this.L}),this.channel.open(),this.N=2,xaW(this))};
g.n.disconnect=function(C){this.QL=C===void 0?0:C;this.G.stop();kJW(this);this.channel&&(this.QL!==0?this.L.ui=""+this.QL:delete this.L.ui,this.channel.close());this.QL=0};
g.n.It=function(){return this.G.isActive()?this.G.HX-Date.now():NaN};
g.n.x9=function(){var C=this.G;g.Gk(C.T);C.start()};
g.n.sendMessage=function(C,m){this.channel&&(kJW(this),C=Object.assign({},{_sc:C},m),this.channel.send(C))};
g.n.AR=function(C){C||this.G.stop();C?this.V["X-YouTube-LoungeId-Token"]=C:delete this.V["X-YouTube-LoungeId-Token"]};
g.n.getDeviceId=function(){return this.T?this.T.id:""};
g.n.publish=function(C){return this.C.publish.apply(this.C,[C].concat(g.Hn(g.Sp.apply(1,arguments))))};
g.n.subscribe=function(C,m,L){return this.C.subscribe(C,m,L)};
g.n.unsubscribe=function(C,m,L){return this.C.unsubscribe(C,m,L)};
g.n.j8=function(C){return this.C.j8(C)};
g.n.dispose=function(){this.zT||(this.zT=!0,g.hx(this.C),this.disconnect(),g.hx(this.G),this.gY=function(){return""})};
g.n.bL=function(){return this.zT};g.I(XNW,g.xN);g.n=XNW.prototype;g.n.connect=function(C,m){this.T.connect(C,m)};
g.n.disconnect=function(C){this.T.disconnect(C)};
g.n.x9=function(){this.T.x9()};
g.n.getDeviceId=function(){return this.T.getDeviceId()};
g.n.It=function(){return this.T.It()};
g.n.Uv=function(){return this.T.N===3};
g.n.Yn=function(){this.dispatchEvent("channelOpened")};
g.n.onClosed=function(){this.dispatchEvent("channelClosed")};
g.n.onMessage=function(C){this.dispatchEvent(new SoF(C))};
g.n.onError=function(){this.dispatchEvent(new OZz(this.T.NO===401?1:0))};
g.n.sendMessage=function(C,m){this.T.sendMessage(C,m)};
g.n.AR=function(C){this.T.AR(C)};
g.n.dispose=function(){this.T.dispose()};var e38=Date.now(),IJ=null,Ty=Array(50),MB=-1,yC=!1;g.dz(vs,g.SK);vs.prototype.TE=function(){return this.screens};
vs.prototype.contains=function(C){return!!l0C(this.screens,C)};
vs.prototype.get=function(C){return C?vE(this.screens,C):null};
vs.prototype.info=function(C){LU(this.N,C)};g.I(Q84,g.SK);g.n=Q84.prototype;g.n.start=function(){!this.T&&isNaN(this.IH)&&this.rp()};
g.n.stop=function(){this.T&&(this.T.abort(),this.T=null);isNaN(this.IH)||(g.Cv(this.IH),this.IH=NaN)};
g.n.Rm=function(){this.stop();g.SK.prototype.Rm.call(this)};
g.n.rp=function(){this.IH=NaN;this.T=g.g8(fp(this.G,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.S},timeout:5E3,onSuccess:(0,g.eW)(this.BA,this),onError:(0,g.eW)(this.Us,this),onTimeout:(0,g.eW)(this.o5,this)})};
g.n.BA=function(C,m){this.T=null;C=m.screen||{};C.dialId=this.V;C.name=this.N;m=-1;this.C&&C.shortLivedLoungeToken&&C.shortLivedLoungeToken.value&&C.shortLivedLoungeToken.refreshIntervalMs&&(C.screenIdType="shortLived",C.loungeToken=C.shortLivedLoungeToken.value,m=C.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new np(C),m)};
g.n.Us=function(C){this.T=null;C.status&&C.status==404?this.L>=p$r.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(C=p$r[this.L],this.IH=g.FW((0,g.eW)(this.rp,this),C),this.L++):this.publish("pairingFailed",Error("Server error "+C.status))};
g.n.o5=function(){this.T=null;this.publish("pairingFailed",Error("Server not responding"))};
var p$r=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.dz(wQ,vs);g.n=wQ.prototype;g.n.start=function(){x5(this)&&this.publish("screenChange");!g.BD("yt-remote-lounge-token-expiration")&&f0e(this);g.Cv(this.T);this.T=g.FW((0,g.eW)(this.start,this),1E4)};
g.n.add=function(C,m){x5(this);S1e(this,C);m1(this,!1);this.publish("screenChange");m(C);C.token||f0e(this)};
g.n.remove=function(C,m){var L=x5(this);vAz(this,C)&&(m1(this,!1),L=!0);m(C);L&&this.publish("screenChange")};
g.n.iZ=function(C,m,L,h){var V=x5(this),S=this.get(C.id);S?(S.name!=m&&(S.name=m,m1(this,!1),V=!0),L(C)):h(Error("no such local screen."));V&&this.publish("screenChange")};
g.n.Rm=function(){g.Cv(this.T);wQ.UX.Rm.call(this)};
g.n.MA4=function(C){x5(this);var m=this.screens.length;C=C&&C.screens||[];for(var L=C.length,h=0;h<L;++h){var V=C[h],S=this.get(V.screenId);S&&(S.token=V.loungeToken,--m)}m1(this,!m);m&&LU(this.N,"Missed "+m+" lounge tokens.")};
g.n.SxQ=function(C){LU(this.N,"Requesting lounge tokens failed: "+C)};g.I(T28,g.SK);g.n=T28.prototype;g.n.start=function(){var C=parseInt(g.BD("yt-remote-fast-check-period")||"0",10);(this.V=g.NY()-144E5<C?0:C)?IZ(this):(this.V=g.NY()+3E5,g.cN("yt-remote-fast-check-period",this.V),this.Eq())};
g.n.isEmpty=function(){return g.Ip(this.T)};
g.n.update=function(){WfF("Updating availability on schedule.");var C=this.N(),m=g.Ue(this.T,function(L,h){return L&&!!vE(C,h)},this);
iZ4(this,m)};
g.n.Rm=function(){g.Cv(this.G);this.G=NaN;this.L&&(this.L.abort(),this.L=null);g.SK.prototype.Rm.call(this)};
g.n.Eq=function(){g.Cv(this.G);this.G=NaN;this.L&&this.L.abort();var C=r82(this);if(bT7(C)){var m=fp(this.C,"/pairing/get_screen_availability");this.L=this.C.sendRequest("POST",m,{lounge_token:g.K7(C).join(",")},(0,g.eW)(this.xOx,this,C),(0,g.eW)(this.o3T,this))}else iZ4(this,{}),IZ(this)};
g.n.xOx=function(C,m){this.L=null;var L=g.K7(r82(this));if(g.wz(L,g.K7(C))){m=m.screens||[];L={};for(var h=m.length,V=0;V<h;++V)L[C[m[V].loungeToken]]=m[V].status=="online";iZ4(this,L);IZ(this)}else this.G0("Changing Screen set during request."),this.Eq()};
g.n.o3T=function(C){this.G0("Screen availability failed: "+C);this.L=null;IZ(this)};
g.n.G0=function(C){LU("OnlineScreenService",C)};g.dz(GA,vs);g.n=GA.prototype;g.n.start=function(){this.L.start();this.T.start();this.screens.length&&(this.publish("screenChange"),this.T.isEmpty()||this.publish("onlineScreenChange"))};
g.n.add=function(C,m,L){this.L.add(C,m,L)};
g.n.remove=function(C,m,L){this.L.remove(C,m,L);this.T.update()};
g.n.iZ=function(C,m,L,h){this.L.contains(C)?this.L.iZ(C,m,L,h):(C="Updating name of unknown screen: "+C.name,LU(this.N,C),h(Error(C)))};
g.n.TE=function(C){return C?this.screens:g.cr(this.screens,g.wt(this.G,function(m){return!this.contains(m)},this))};
g.n.PU=function(){return g.wt(this.TE(!0),function(C){return!!this.T.T[C.id]},this)};
g.n.Ka=function(C,m,L,h,V,S){var U=this;this.info("getDialScreenByPairingCode "+C+" / "+m);var Z=new Q84(this.V,C,m,L,h);Z.subscribe("pairingComplete",function(k,R){g.hx(Z);V(M9(U,k),R)});
Z.subscribe("pairingFailed",function(k){g.hx(Z);S(k)});
Z.start();return(0,g.eW)(Z.stop,Z)};
g.n.x6=function(C,m,L,h){g.g8(fp(this.V,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:C},timeout:5E3,onSuccess:(0,g.eW)(function(V,S){V=new np(S.screen||{});if(!V.name||Pk4(this,V.name)){a:{S=V.name;for(var U=2,Z=m(S,U);Pk4(this,Z);){U++;if(U>20)break a;Z=m(S,U)}S=Z}V.name=S}L(M9(this,V))},this),
onError:(0,g.eW)(function(V){h(Error("pairing request failed: "+V.status))},this),
onTimeout:(0,g.eW)(function(){h(Error("pairing request timed out."))},this)})};
g.n.Rm=function(){g.hx(this.L);g.hx(this.T);GA.UX.Rm.call(this)};
g.n.vNP=function(){tW7(this);this.publish("screenChange");this.T.update()};
GA.prototype.dispose=GA.prototype.dispose;g.dz(Ps,g.SK);g.n=Ps.prototype;g.n.Km=function(C){this.bL()||(C&&(jH(this,""+C),this.publish("sessionFailed")),this.T=null,this.publish("sessionScreen",null))};
g.n.info=function(C){LU(this.LP,C)};
g.n.vU=function(){return null};
g.n.Ma=function(C){var m=this.L;C?(m.displayStatus=new chrome.cast.ReceiverDisplayStatus(C,[]),m.displayStatus.showStop=!0):m.displayStatus=null;chrome.cast.setReceiverDisplayStatus(m,(0,g.eW)(function(){this.info("Updated receiver status for "+m.friendlyName+": "+C)},this),(0,g.eW)(function(){jH(this,"Failed to update receiver status for: "+m.friendlyName)},this))};
g.n.Rm=function(){this.Ma("");Ps.UX.Rm.call(this)};g.I(LD,Ps);g.n=LD.prototype;g.n.Sh=function(C){if(this.G){if(this.G==C)return;jH(this,"Overriding cast session with new session object");g1l(this);this.gY=!1;this.QL="unknown";this.G.removeUpdateListener(this.TT);this.G.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Xq)}this.G=C;this.G.addUpdateListener(this.TT);this.G.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.Xq);BzW(this,"getMdxSessionStatus")};
g.n.PQ=function(C){this.info("launchWithParams no-op for Cast: "+g.Sz(C))};
g.n.stop=function(){this.G?this.G.stop((0,g.eW)(function(){this.Km()},this),(0,g.eW)(function(){this.Km(Error("Failed to stop receiver app."))},this)):this.Km(Error("Stopping cast device without session."))};
g.n.Ma=function(){};
g.n.Rm=function(){this.info("disposeInternal");g1l(this);this.G&&(this.G.removeUpdateListener(this.TT),this.G.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Xq));this.G=null;Ps.prototype.Rm.call(this)};
g.n.JpA=function(C,m){if(!this.bL())if(m)if(m=Lp(m),g.VA(m))switch(C=""+m.type,m=m.data||{},this.info("onYoutubeMessage_: "+C+" "+g.Sz(m)),C){case "mdxSessionStatus":Ff4(this,m);break;case "loungeToken":fq7(this,m);break;default:jH(this,"Unknown youtube message: "+C)}else jH(this,"Unable to parse message.");else jH(this,"No data in message.")};
g.n.l9=function(C,m,L,h){g.Cv(this.Y);this.Y=0;T7z(this.V,this.L.label,C,this.L.friendlyName,(0,g.eW)(function(V){V?m(V):h>=0?(jH(this,"Screen "+C+" appears to be offline. "+h+" retries left."),this.Y=g.FW((0,g.eW)(this.l9,this,C,m,L,h-1),300)):L(Error("Unable to fetch screen."))},this),L)};
g.n.vU=function(){return this.G};
g.n.Q4=function(C){this.bL()||C||(jH(this,"Cast session died."),this.Km())};g.I(Bs,Ps);g.n=Bs.prototype;g.n.Sh=function(C){this.G=C;this.G.addUpdateListener(this.kN)};
g.n.PQ=function(C){this.eA=C;this.zT()};
g.n.stop=function(){lK8(this);this.G?this.G.stop((0,g.eW)(this.Km,this,null),(0,g.eW)(this.Km,this,"Failed to stop DIAL device.")):this.Km()};
g.n.Rm=function(){lK8(this);this.G&&this.G.removeUpdateListener(this.kN);this.G=null;Ps.prototype.Rm.call(this)};
g.n.z_=function(C){this.bL()||C||(jH(this,"DIAL session died."),this.C(),this.C=function(){},this.Km())};g.I($l,Ps);$l.prototype.stop=function(){this.Km()};
$l.prototype.Sh=function(){};
$l.prototype.PQ=function(){g.Cv(this.G);this.G=NaN;var C=vE(this.V.TE(),this.L.label);C?Ws(this,C):this.Km(Error("No such screen"))};
$l.prototype.Rm=function(){g.Cv(this.G);this.G=NaN;Ps.prototype.Rm.call(this)};g.I(Ao,g.SK);g.n=Ao.prototype;
g.n.init=function(C,m){chrome.cast.timeout.requestSession=3E4;var L=new chrome.cast.SessionRequest(this.Y,[chrome.cast.Capability.AUDIO_OUT]);g.tb("desktop_enable_cast_connect")&&(L.androidReceiverCompatible=!0);this.QL||(L.dialRequest=new chrome.cast.DialRequest("YouTube"));var h=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;C=C||this.N?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;var V=(0,g.eW)(this.SXx,this);L=new chrome.cast.ApiConfig(L,(0,g.eW)(this.nB,
this),V,h,C);L.customDialLaunchCallback=(0,g.eW)(this.xLP,this);chrome.cast.initialize(L,(0,g.eW)(function(){this.bL()||(chrome.cast.addReceiverActionListener(this.C),Xuz(),this.L.subscribe("onlineScreenChange",(0,g.eW)(this.jF,this)),this.G=ZrF(this),chrome.cast.setCustomReceivers(this.G,function(){},(0,g.eW)(function(S){this.G0("Failed to set initial custom receivers: "+g.Sz(S))},this)),this.publish("yt-remote-cast2-availability-change",pD(this)),m(!0))},this),(0,g.eW)(function(S){this.G0("Failed to initialize API: "+
g.Sz(S));
m(!1)},this))};
g.n.KJL=function(C,m){Vc("Setting connected screen ID: "+C+" -> "+m);if(this.T){var L=this.T.T;if(!C||L&&L.id!=C)Vc("Unsetting old screen status: "+this.T.L.friendlyName),SH(this,null)}if(C&&m){if(!this.T){C=vE(this.L.TE(),C);if(!C){Vc("setConnectedScreenStatus: Unknown screen.");return}if(C.idType=="shortLived"){Vc("setConnectedScreenStatus: Screen with id type to be short lived.");return}L=Dsz(this,C);L||(Vc("setConnectedScreenStatus: Connected receiver not custom..."),L=new chrome.cast.Receiver(C.uuid?
C.uuid:C.id,C.name),L.receiverType=chrome.cast.ReceiverType.CUSTOM,this.G.push(L),chrome.cast.setCustomReceivers(this.G,function(){},(0,g.eW)(function(h){this.G0("Failed to set initial custom receivers: "+g.Sz(h))},this)));
Vc("setConnectedScreenStatus: new active receiver: "+L.friendlyName);SH(this,new $l(this.L,L),!0)}this.T.Ma(m)}else Vc("setConnectedScreenStatus: no screen.")};
g.n.WJq=function(C){this.bL()?this.G0("Setting connection data on disposed cast v2"):this.T?this.T.PQ(C):this.G0("Setting connection data without a session")};
g.n.T_=function(){this.bL()?this.G0("Stopping session on disposed cast v2"):this.T?(this.T.stop(),SH(this,null)):Vc("Stopping non-existing session")};
g.n.requestSession=function(){chrome.cast.requestSession((0,g.eW)(this.nB,this),(0,g.eW)(this.zmY,this))};
g.n.Rm=function(){this.L.unsubscribe("onlineScreenChange",(0,g.eW)(this.jF,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.C);var C=c8F,m=g.Aw("yt.mdx.remote.debug.handlers_");g.uK(m||[],C);g.hx(this.T);g.SK.prototype.Rm.call(this)};
g.n.G0=function(C){LU("Controller",C)};
g.n.jf=function(C,m){this.T==C&&(m||SH(this,null),this.publish("yt-remote-cast2-session-change",m))};
g.n.uWY=function(C,m){if(!this.bL())if(C)switch(C.friendlyName=chrome.cast.unescape(C.friendlyName),Vc("onReceiverAction_ "+C.label+" / "+C.friendlyName+"-- "+m),m){case chrome.cast.ReceiverAction.CAST:if(this.T)if(this.T.L.label!=C.label)Vc("onReceiverAction_: Stopping active receiver: "+this.T.L.friendlyName),this.T.stop();else{Vc("onReceiverAction_: Casting to active receiver.");this.T.T&&this.publish("yt-remote-cast2-session-change",this.T.T);break}switch(C.receiverType){case chrome.cast.ReceiverType.CUSTOM:SH(this,
new $l(this.L,C));break;case chrome.cast.ReceiverType.DIAL:SH(this,new Bs(this.L,C,this.V,this.config_));break;case chrome.cast.ReceiverType.CAST:SH(this,new LD(this.L,C,this.config_));break;default:this.G0("Unknown receiver type: "+C.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.T&&this.T.L.label==C.label?this.T.stop():this.G0("Stopping receiver w/o session: "+C.friendlyName)}else this.G0("onReceiverAction_ called without receiver.")};
g.n.xLP=function(C){if(this.bL())return Promise.reject(Error("disposed"));var m=C.receiver;m.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.G0("Not DIAL receiver: "+m.friendlyName),m.receiverType=chrome.cast.ReceiverType.DIAL);var L=this.T?this.T.L:null;if(!L||L.label!=m.label)return this.G0("Receiving DIAL launch request for non-clicked DIAL receiver: "+m.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(L&&L.label==m.label&&L.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.T.T)return Vc("Reselecting dial screen."),
this.publish("yt-remote-cast2-session-change",this.T.T),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.G0('Changing CAST intent from "'+L.receiverType+'" to "dial" for '+m.friendlyName);SH(this,new Bs(this.L,m,this.V,this.config_))}m=this.T;m.Y=C;m.Y.appState==chrome.cast.DialAppState.RUNNING?(C=m.Y.extraData||{},L=C.screenId||null,oJ(m)&&C.loungeToken?C.loungeTokenRefreshIntervalMs?C=Cv4(m,{name:m.L.friendlyName,screenId:C.screenId,loungeToken:C.loungeToken,dialId:m.Y.receiver.label,
screenIdType:"shortLived"},C.loungeTokenRefreshIntervalMs):(g.XW(Error("No loungeTokenRefreshIntervalMs presents in additionalData: "+JSON.stringify(C)+".")),C=AX4(m,L)):C=AX4(m,L)):C=$E2(m);return C};
g.n.nB=function(C){var m=this;if(!this.bL()&&!this.N){Vc("New cast session ID: "+C.sessionId);var L=C.receiver;if(L.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.T)if(L.receiverType==chrome.cast.ReceiverType.CAST)Vc("Got resumed cast session before resumed mdx connection."),L.friendlyName=chrome.cast.unescape(L.friendlyName),SH(this,new LD(this.L,L,this.config_),!0);else{this.G0("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var h=this.T.L,V=vE(this.L.TE(),
h.label);V&&fU(V,L.label)&&h.receiverType!=chrome.cast.ReceiverType.CAST&&L.receiverType==chrome.cast.ReceiverType.CAST&&(Vc("onSessionEstablished_: manual to cast session change "+L.friendlyName),g.hx(this.T),this.T=new LD(this.L,L,this.config_),this.T.subscribe("sessionScreen",(0,g.eW)(this.jf,this,this.T)),this.T.subscribe("sessionFailed",function(){return SX7(m,m.T)}),this.T.PQ(null));
this.T.Sh(C)}}};
g.n.lq=function(){return this.T?this.T.vU():null};
g.n.zmY=function(C){this.bL()||(this.G0("Failed to estabilish a session: "+g.Sz(C)),C.code!=chrome.cast.ErrorCode.CANCEL&&SH(this,null),this.publish("yt-remote-cast2-session-failed"))};
g.n.SXx=function(C){Vc("Receiver availability updated: "+C);if(!this.bL()){var m=pD(this);this.S=C==chrome.cast.ReceiverAvailability.AVAILABLE;pD(this)!=m&&this.publish("yt-remote-cast2-availability-change",pD(this))}};
g.n.jF=function(){this.bL()||(this.G=ZrF(this),Vc("Updating custom receivers: "+g.Sz(this.G)),chrome.cast.setCustomReceivers(this.G,function(){},(0,g.eW)(function(){this.G0("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",pD(this)))};
Ao.prototype.setLaunchParams=Ao.prototype.WJq;Ao.prototype.setConnectedScreenStatus=Ao.prototype.KJL;Ao.prototype.stopSession=Ao.prototype.T_;Ao.prototype.getCastSession=Ao.prototype.lq;Ao.prototype.requestSession=Ao.prototype.requestSession;Ao.prototype.init=Ao.prototype.init;Ao.prototype.dispose=Ao.prototype.dispose;var n1Q=g.wd(["https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"]),erl=[],IDC=g.ZU(n1Q);g.n=BE.prototype;
g.n.reset=function(C){this.listId="";this.index=-1;this.videoId="";$s4(this);this.volume=-1;this.muted=!1;C&&(this.index=C.index,this.listId=C.listId,this.videoId=C.videoId,this.playerState=C.playerState,this.volume=C.volume,this.muted=C.muted,this.audioTrackId=C.audioTrackId,this.trackData=C.trackData,this.hasPrevious=C.hasPrevious,this.hasNext=C.hasNext,this.N=C.playerTime,this.C=C.playerTimeAt,this.L=C.seekableStart,this.S=C.seekableEnd,this.G=C.duration,this.loadedTime=C.loadedTime,this.T=C.liveIngestionTime,
this.V=!isNaN(this.T))};
g.n.isPlaying=function(){return this.playerState==1};
g.n.isBuffering=function(){return this.playerState==3};
g.n.pG=function(C){this.G=isNaN(C)?0:C};
g.n.getDuration=function(){return this.V?this.G+hg(this):this.G};
g.n.clone=function(){return new BE(Dq4(this))};g.I(QP,g.SK);g.n=QP.prototype;g.n.getState=function(){return this.G};
g.n.It=function(){return this.V.getReconnectTimeout()};
g.n.x9=function(){this.V.reconnect()};
g.n.play=function(){Ag(this)?(this.T?this.T.play(null,g.rn,Z$(this,"play")):D$(this,"play"),zFW(this,1,ji(TS(this))),this.publish("remotePlayerChange")):zy(this,this.play)};
g.n.pause=function(){Ag(this)?(this.T?this.T.pause(null,g.rn,Z$(this,"pause")):D$(this,"pause"),zFW(this,2,ji(TS(this))),this.publish("remotePlayerChange")):zy(this,this.pause)};
g.n.seekTo=function(C){if(Ag(this)){if(this.T){var m=TS(this),L=new chrome.cast.media.SeekRequest;L.currentTime=C;m.isPlaying()||m.isBuffering()?L.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:L.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.T.seek(L,g.rn,Z$(this,"seekTo",{newTime:C}))}else D$(this,"seekTo",{newTime:C});zFW(this,3,C);this.publish("remotePlayerChange")}else zy(this,g.LZ(this.seekTo,C))};
g.n.stop=function(){if(Ag(this)){this.T?this.T.stop(null,g.rn,Z$(this,"stopVideo")):D$(this,"stopVideo");var C=TS(this);C.index=-1;C.videoId="";$s4(C);yP(this,C);this.publish("remotePlayerChange")}else zy(this,this.stop)};
g.n.setVolume=function(C,m){if(Ag(this)){var L=TS(this);if(this.L){if(L.volume!=C){var h=Math.round(C)/100;this.L.setReceiverVolumeLevel(h,(0,g.eW)(function(){q9("set receiver volume: "+h)},this),(0,g.eW)(function(){this.G0("failed to set receiver volume.")},this))}L.muted!=m&&this.L.setReceiverMuted(m,(0,g.eW)(function(){q9("set receiver muted: "+m)},this),(0,g.eW)(function(){this.G0("failed to set receiver muted.")},this))}else{var V={volume:C,
muted:m};L.volume!=-1&&(V.delta=C-L.volume);D$(this,"setVolume",V)}L.muted=m;L.volume=C;yP(this,L)}else zy(this,g.LZ(this.setVolume,C,m))};
g.n.a7=function(C,m){if(Ag(this)){var L=TS(this);C={videoId:C};m&&(L.trackData={trackName:m.name,languageCode:m.languageCode,sourceLanguageCode:m.translationLanguage?m.translationLanguage.languageCode:"",languageName:m.languageName,kind:m.kind},C.style=g.Sz(m.style),g.Ki(C,L.trackData));D$(this,"setSubtitlesTrack",C);yP(this,L)}else zy(this,g.LZ(this.a7,C,m))};
g.n.setAudioTrack=function(C,m){Ag(this)?(m=m.getLanguageInfo().getId(),D$(this,"setAudioTrack",{videoId:C,audioTrackId:m}),C=TS(this),C.audioTrackId=m,yP(this,C)):zy(this,g.LZ(this.setAudioTrack,C,m))};
g.n.playVideo=function(C,m,L,h,V,S,U){h=h===void 0?null:h;V=V===void 0?null:V;S=S===void 0?null:S;U=U===void 0?null:U;var Z=TS(this),k={videoId:C};L!==void 0&&(k.currentIndex=L);uM(Z,C,L||0);m!==void 0&&(ho(Z,m),k.currentTime=m);h&&(k.listId=h);V&&(k.playerParams=V);S&&(k.clickTrackingParams=S);U&&(k.locationInfo=g.Sz(U));D$(this,"setPlaylist",k);h||yP(this,Z)};
g.n.Cu=function(C,m){if(Ag(this)){if(C&&m){var L=TS(this);uM(L,C,m);yP(this,L)}D$(this,"previous")}else zy(this,g.LZ(this.Cu,C,m))};
g.n.nextVideo=function(C,m){if(Ag(this)){if(C&&m){var L=TS(this);uM(L,C,m);yP(this,L)}D$(this,"next")}else zy(this,g.LZ(this.nextVideo,C,m))};
g.n.ag=function(){if(Ag(this)){D$(this,"clearPlaylist");var C=TS(this);C.reset();yP(this,C);this.publish("remotePlayerChange")}else zy(this,this.ag)};
g.n.Bj=function(){Ag(this)?D$(this,"dismissAutoplay"):zy(this,this.Bj)};
g.n.dispose=function(){if(this.G!=3){var C=this.G;this.G=3;this.publish("proxyStateChange",C,this.G)}g.SK.prototype.dispose.call(this)};
g.n.Rm=function(){aDr(this);this.V=null;this.C.clear();RJ(this,null);g.SK.prototype.Rm.call(this)};
g.n.ZJ=function(C){if((C!=this.G||C==2)&&this.G!=3&&C!=0){var m=this.G;this.G=C;this.publish("proxyStateChange",m,C);if(C==1)for(;!this.C.isEmpty();)m=C=this.C,m.T.length===0&&(m.T=m.L,m.T.reverse(),m.L=[]),C.T.pop().apply(this);else C==3&&this.dispose()}};
g.n.J1q=function(C,m){this.publish(C,m)};
g.n.KWA=function(C){if(!C)this.Q_(null),RJ(this,null);else if(this.L.receiver.volume){C=this.L.receiver.volume;var m=TS(this),L=Math.round(100*C.level||0);if(m.volume!=L||m.muted!=C.muted)q9("Cast volume update: "+C.level+(C.muted?" muted":"")),m.volume=L,m.muted=!!C.muted,yP(this,m)}};
g.n.Q_=function(C){q9("Cast media: "+!!C);this.T&&this.T.removeUpdateListener(this.Y);if(this.T=C)this.T.addUpdateListener(this.Y),EbJ(this),this.publish("remotePlayerChange")};
g.n.nu5=function(C){C?(EbJ(this),this.publish("remotePlayerChange")):this.Q_(null)};
g.n.CI=function(){D$(this,"sendDebugCommand",{debugCommand:"stats4nerds "})};
g.n.jHx=function(){var C=nIr();C&&RJ(this,C)};
g.n.G0=function(C){LU("CP",C)};g.I(Si,g.SK);g.n=Si.prototype;
g.n.connect=function(C,m){if(m){var L=m.listId,h=m.videoId,V=m.videoIds,S=m.playerParams,U=m.clickTrackingParams,Z=m.index,k={videoId:h},R=m.currentTime,Q=m.locationInfo;m=m.loopMode;R!==void 0&&(k.currentTime=R<=5?0:R);S&&(k.playerParams=S);Q&&(k.locationInfo=Q);U&&(k.clickTrackingParams=U);L&&(k.listId=L);V&&V.length>0&&(k.videoIds=V.join(","));Z!==void 0&&(k.currentIndex=Z);this.kN&&(k.loopMode=m||"LOOP_MODE_OFF");L&&(this.T.listId=L);this.T.videoId=h;this.T.index=Z||0;this.T.state=3;ho(this.T,
R);this.C="UNSUPPORTED";L=this.kN?"setInitialState":"setPlaylist";N9("Connecting with "+L+" and params: "+g.Sz(k));this.L.connect({method:L,params:g.Sz(k)},C,RrW())}else N9("Connecting without params"),this.L.connect({},C,RrW());Ma7(this)};
g.n.AR=function(C){this.L.AR(C)};
g.n.dispose=function(){this.bL()||(g.Vy("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),KU(this,3));g.SK.prototype.dispose.call(this)};
g.n.Rm=function(){chW(this);jmC(this);HKW(this);g.Cv(this.Y);this.Y=NaN;g.Cv(this.QL);this.QL=NaN;this.V=null;g.PK(this.zT);this.zT.length=0;this.L.dispose();g.SK.prototype.Rm.call(this);this.C=this.S=this.G=this.T=this.L=null};
g.n.Bp=function(C){if(!this.G||this.G.length===0)return!1;for(var m=g.H(this.G),L=m.next();!L.done;L=m.next())if(!L.value.capabilities.has(C))return!1;return!0};
g.n.GTq=function(){var C=3;this.bL()||(C=0,isNaN(this.Z3())?this.L.Uv()&&isNaN(this.N)&&(C=1):C=2);return C};
g.n.dF=function(C){N9("Disconnecting with "+C);g.Vy("yt.mdx.remote.remoteClient_",null);chW(this);this.publish("beforeDisconnect",C);C==1&&bM();this.L.disconnect(C);this.dispose()};
g.n.h4L=function(){var C=this.T;this.V&&(C=this.T.clone(),uM(C,this.V,C.index));return Dq4(C)};
g.n.U$A=function(C){var m=this,L=new BE(C);L.videoId&&L.videoId!=this.T.videoId&&(this.V=L.videoId,g.Cv(this.Y),this.Y=g.FW(function(){if(m.V){var V=m.V;m.V=null;m.T.videoId!=V&&X_(m,"getNowPlaying")}},5E3));
var h=[];this.T.listId==L.listId&&this.T.videoId==L.videoId&&this.T.index==L.index||h.push("remoteQueueChange");this.T.playerState==L.playerState&&this.T.volume==L.volume&&this.T.muted==L.muted&&ji(this.T)==ji(L)&&g.Sz(this.T.trackData)==g.Sz(L.trackData)||h.push("remotePlayerChange");this.T.reset(C);g.Gl(h,function(V){this.publish(V)},this)};
g.n.HL=function(){var C=this.L.getDeviceId(),m=g.cl(this.G,function(L){return L.type=="REMOTE_CONTROL"&&L.id!=C});
return m?m.id:""};
g.n.Z3=function(){return this.L.It()};
g.n.jm=function(){return this.C||"UNSUPPORTED"};
g.n.aT=function(){return this.S||""};
g.n.y4=function(){!isNaN(this.Z3())&&this.L.x9()};
g.n.ZsY=function(C,m){X_(this,C,m);FpC(this)};
g.n.WU=function(){var C=g.uI("SAPISID","")||g.uI("__Secure-1PAPISID")||"",m=g.uI("__Secure-3PAPISID","")||"";if(!C&&!m)return"";C=g.lV(g.Je(C),2);m=g.lV(g.Je(m),2);return g.lV(g.Je(","+C+","+m),2)};
Si.prototype.subscribe=Si.prototype.subscribe;Si.prototype.unsubscribeByKey=Si.prototype.j8;Si.prototype.getProxyState=Si.prototype.GTq;Si.prototype.disconnect=Si.prototype.dF;Si.prototype.getPlayerContextData=Si.prototype.h4L;Si.prototype.setPlayerContextData=Si.prototype.U$A;Si.prototype.getOtherConnectedRemoteId=Si.prototype.HL;Si.prototype.getReconnectTimeout=Si.prototype.Z3;Si.prototype.getAutoplayMode=Si.prototype.jm;Si.prototype.getAutoplayVideoId=Si.prototype.aT;Si.prototype.reconnect=Si.prototype.y4;
Si.prototype.sendMessage=Si.prototype.ZsY;Si.prototype.getXsrfToken=Si.prototype.WU;Si.prototype.isCapabilitySupportedOnConnectedDevices=Si.prototype.Bp;g.I(NnW,vs);g.n=NnW.prototype;g.n.TE=function(C){return this.sZ.$_gs(C)};
g.n.contains=function(C){return!!this.sZ.$_c(C)};
g.n.get=function(C){return this.sZ.$_g(C)};
g.n.start=function(){this.sZ.$_st()};
g.n.add=function(C,m,L){this.sZ.$_a(C,m,L)};
g.n.remove=function(C,m,L){this.sZ.$_r(C,m,L)};
g.n.iZ=function(C,m,L,h){this.sZ.$_un(C,m,L,h)};
g.n.Rm=function(){for(var C=this.T.length,m=0;m<C;++m)this.sZ.$_ubk(this.T[m]);this.T.length=0;this.sZ=null;vs.prototype.Rm.call(this)};
g.n.RX=function(){this.publish("screenChange")};
g.n.csY=function(){this.publish("onlineScreenChange")};
GA.prototype.$_st=GA.prototype.start;GA.prototype.$_gspc=GA.prototype.x6;GA.prototype.$_gsppc=GA.prototype.Ka;GA.prototype.$_c=GA.prototype.contains;GA.prototype.$_g=GA.prototype.get;GA.prototype.$_a=GA.prototype.add;GA.prototype.$_un=GA.prototype.iZ;GA.prototype.$_r=GA.prototype.remove;GA.prototype.$_gs=GA.prototype.TE;GA.prototype.$_gos=GA.prototype.PU;GA.prototype.$_s=GA.prototype.subscribe;GA.prototype.$_ubk=GA.prototype.j8;var Am=null,zS=!1,kh=null,ZW=null,cJQ=null,gj=[];g.I(Zi4,g.T);g.n=Zi4.prototype;g.n.Rm=function(){g.T.prototype.Rm.call(this);this.L.stop();this.G.stop();this.Y.stop();var C=this.Hl;C.unsubscribe("proxyStateChange",this.fB,this);C.unsubscribe("remotePlayerChange",this.Rz,this);C.unsubscribe("remoteQueueChange",this.H6,this);C.unsubscribe("previousNextChange",this.Sf,this);C.unsubscribe("nowAutoplaying",this.Am,this);C.unsubscribe("autoplayDismissed",this.ge,this);this.Hl=this.T=null};
g.n.rh=function(C){var m=g.Sp.apply(1,arguments);if(this.Hl.G!=2)if(Hs(this)){if(TS(this.Hl).playerState!=1081||C!=="control_seek")switch(C){case "control_toggle_play_pause":TS(this.Hl).isPlaying()?this.Hl.pause():this.Hl.play();break;case "control_play":this.Hl.play();break;case "control_pause":this.Hl.pause();break;case "control_seek":this.S.Kn(m[0],m[1]);break;case "control_subtitles_set_track":GQz(this,m[0]);break;case "control_set_audio_track":this.setAudioTrack(m[0])}}else switch(C){case "control_toggle_play_pause":case "control_play":case "control_pause":m=
this.J.getCurrentTime();F_(this,m===0?void 0:m);break;case "control_seek":F_(this,m[0]);break;case "control_subtitles_set_track":GQz(this,m[0]);break;case "control_set_audio_track":this.setAudioTrack(m[0])}};
g.n.f1q=function(C){this.Y.MM(C)};
g.n.QQx=function(C){this.rh("control_subtitles_set_track",g.Ip(C)?null:C)};
g.n.n3=function(){var C=this.J.getOption("captions","track");g.Ip(C)||GQz(this,C)};
g.n.mW=function(C){this.T.mW(C,this.J.getVideoData().lengthSeconds)};
g.n.kKL=function(){g.Ip(this.V)||Nz8(this,this.V);this.C=!1};
g.n.fB=function(C,m){this.G.stop();m===2&&this.N5()};
g.n.Rz=function(){if(Hs(this)){this.L.stop();var C=TS(this.Hl);switch(C.playerState){case 1080:case 1081:case 1084:case 1085:this.T.s_=1;break;case 1082:case 1083:this.T.s_=0;break;default:this.T.s_=-1}switch(C.playerState){case 1081:case 1:this.l2(new g.u_(8));this.D_();break;case 1085:case 3:this.l2(new g.u_(9));break;case 1083:case 0:this.l2(new g.u_(2));this.S.stop();this.mW(this.J.getVideoData().lengthSeconds);break;case 1084:this.l2(new g.u_(4));break;case 2:this.l2(new g.u_(4));this.mW(ji(C));
break;case -1:this.l2(new g.u_(64));break;case -1E3:this.l2(new g.u_(128,{errorCode:"mdx.remoteerror",errorMessage:"\u9019\u90e8\u5f71\u7247\u4e0d\u63d0\u4f9b\u9060\u7aef\u64ad\u653e\u3002\u3000",mG:2}))}C=TS(this.Hl).trackData;var m=this.V;(C||m?C&&m&&C.trackName==m.trackName&&C.languageCode==m.languageCode&&C.languageName==m.languageName&&C.kind==m.kind:1)||(this.V=C,Nz8(this,C));C=TS(this.Hl);C.volume===-1||Math.round(this.J.getVolume())===C.volume&&this.J.isMuted()===C.muted||this.QL.isActive()||
this.Sr()}else Iqz(this)};
g.n.Sf=function(){this.J.publish("mdxpreviousnextchange")};
g.n.H6=function(){Hs(this)||Iqz(this)};
g.n.Am=function(C){isNaN(C)||this.J.publish("mdxnowautoplaying",C)};
g.n.ge=function(){this.J.publish("mdxautoplaycanceled")};
g.n.setAudioTrack=function(C){Hs(this)&&this.Hl.setAudioTrack(this.J.getVideoData(1).videoId,C)};
g.n.seekTo=function(C,m){TS(this.Hl).playerState===-1?F_(this,C):m&&this.Hl.seekTo(C)};
g.n.Sr=function(){var C=this;if(Hs(this)){var m=TS(this.Hl);this.events.pH(this.zT);m.muted?this.J.mute():this.J.unMute();this.J.setVolume(m.volume);this.zT=this.events.K(this.J,"onVolumeChange",function(L){UcW(C,L)})}};
g.n.D_=function(){this.L.stop();if(!this.Hl.bL()){var C=TS(this.Hl);C.isPlaying()&&this.l2(new g.u_(8));this.mW(ji(C));this.L.start()}};
g.n.N5=function(){this.G.stop();this.L.stop();var C=this.Hl.It();this.Hl.G==2&&!isNaN(C)&&this.G.start()};
g.n.l2=function(C){this.G.stop();var m=this.N;if(!g.vy(m,C)){var L=g.y(C,2);L!==g.y(this.N,2)&&this.J.vM(L);this.N=C;iT4(this.T,m,C)}};g.I(mqJ,g.b0);g.n=mqJ.prototype;g.n.getCurrentTime=function(){return this.T.getCurrentTime()};
g.n.getDuration=function(){return this.T.getDuration()};
g.n.g0=function(){return this.T.g0()};
g.n.H3=function(){return this.T.H3()};
g.n.No=function(){return this.T.No()};
g.n.r$=function(){return this.T.r$()};
g.n.getPlayerState=function(){return this.T.nt};
g.n.isAtLiveHead=function(){return this.T.isAtLiveHead()};
g.n.pauseVideo=function(){this.T.Ji("control_pause")};
g.n.playVideo=function(){var C=this;return g.w(function(m){C.T.Ji("control_play");return m.return()})};
g.n.seekTo=function(C,m){this.T.Ji("control_seek",C,!(m==null?0:m.Oh))};
g.n.wA=function(C){this.T.Ji("control_set_audio_track",C);return!0};g.I(dQ,g.X);dQ.prototype.Mr=function(){this.fade.show()};
dQ.prototype.po=function(){this.fade.hide()};
dQ.prototype.T=function(){k5("mdx-privacy-popup-cancel");this.po()};
dQ.prototype.L=function(){k5("mdx-privacy-popup-confirm");this.po()};g.I(Yl,g.X);Yl.prototype.onStateChange=function(C){this.Nr(C.state)};
Yl.prototype.Nr=function(C){if(this.api.getPresentingPlayerType()===3){var m={RECEIVER_NAME:this.api.getOption("remote","currentReceiver").name};C=g.y(C,128)?g.NF("\u300c$RECEIVER_NAME\u300d\u767c\u751f\u932f\u8aa4",m):C.isPlaying()||C.isPaused()?g.NF("\u6b63\u5728\u300c$RECEIVER_NAME\u300d\u4e0a\u64ad\u653e",m):g.NF("\u5df2\u9023\u7dda\u81f3\u300c$RECEIVER_NAME\u300d",m);this.updateValue("statustext",C);this.fade.show()}else this.fade.hide()};g.I(u2,g.Od);u2.prototype.L=function(){var C=this.J.getOption("remote","receivers");C&&C.length>1&&!this.J.getOption("remote","quickCast")?(this.HW=g.mq(C,this.T,this),this.Bz(g.y0(C,this.T)),C=this.J.getOption("remote","currentReceiver"),C=this.T(C),this.options[C]&&this.Ya(C),this.enable(!0)):this.enable(!1)};
u2.prototype.T=function(C){return C.key};
u2.prototype.hH=function(C){return C==="cast-selector-receiver"?"\u6295\u653e\u2026":this.HW[C].name};
u2.prototype.zQ=function(C){g.Od.prototype.zQ.call(this,C);this.J.setOption("remote","currentReceiver",this.HW[C]);this.xx.po()};g.I(B2z,g.Uk);g.n=B2z.prototype;
g.n.create=function(){var C=this.player.W(),m=g.GH(C);C={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:C.D("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:C.D("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:C.D("enable_cast_short_lived_lounge_token")};RnW(m,C);this.subscriptions.push(g.dE("yt-remote-before-disconnect",this.I1x,this));this.subscriptions.push(g.dE("yt-remote-connection-change",this.MZ5,this));this.subscriptions.push(g.dE("yt-remote-receiver-availability-change",this.ZQ,
this));this.subscriptions.push(g.dE("yt-remote-auto-connect",this.w0T,this));this.subscriptions.push(g.dE("yt-remote-receiver-resumed",this.dY4,this));this.subscriptions.push(g.dE("mdx-privacy-popup-confirm",this.zzx,this));this.subscriptions.push(g.dE("mdx-privacy-popup-cancel",this.Q9T,this));this.ZQ()};
g.n.load=function(){this.player.cancelPlayback();g.Uk.prototype.load.call(this);this.O_=new mqJ(this.player.W(),this);this.player.CD(this.O_);this.Zh=new Zi4(this,this.player,this.Hl);var C=(C=LRJ())?C.currentTime:0;var m=VFF()?new QP(U9(),void 0):null;C==0&&m&&(C=ji(TS(m)));C!==0&&this.mW(C);iT4(this,this.nt,this.nt);this.player.DR(6)};
g.n.unload=function(){this.player.publish("mdxautoplaycanceled");this.player.WJ();this.ev=this.To;g.cw(this.Zh,this.Hl);this.Hl=this.O_=this.Zh=null;g.Uk.prototype.unload.call(this);this.player.DR(5);E9(this)};
g.n.Rm=function(){g.jg(this.subscriptions);g.Uk.prototype.Rm.call(this)};
g.n.Ji=function(C){var m=g.Sp.apply(1,arguments);this.loaded&&this.Zh.rh.apply(this.Zh,[C].concat(g.Hn(m)))};
g.n.getAdState=function(){return this.s_};
g.n.hasPrevious=function(){return this.Hl?TS(this.Hl).hasPrevious:!1};
g.n.hasNext=function(){return this.Hl?TS(this.Hl).hasNext:!1};
g.n.mW=function(C,m){this.s4=C||0;this.player.publish("progresssync",C,m);this.player.yF("onVideoProgress",C||0)};
g.n.getCurrentTime=function(){return this.s4};
g.n.getDuration=function(){return TS(this.Hl).getDuration()||0};
g.n.g0=function(){var C=TS(this.Hl);return C.V?C.T+hg(C):C.T};
g.n.H3=function(){return TS(this.Hl).loadedTime};
g.n.No=function(){return zrC(TS(this.Hl))};
g.n.r$=function(){var C=TS(this.Hl);return C.L>0?C.L+hg(C):C.L};
g.n.getProgressState=function(){var C=TS(this.Hl),m=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:C.playerState!=1081&&this.player.WE(),clipEnd:m.clipEnd,clipStart:m.clipStart,current:this.getCurrentTime(),displayedStart:-1,duration:this.getDuration(),ingestionTime:this.g0(),isAtLiveHead:this.isAtLiveHead(),loaded:this.H3(),seekableEnd:this.No(),seekableStart:this.r$(),offset:0,viewerLivestreamJoinMediaTime:0}};
g.n.isAtLiveHead=function(){return zrC(TS(this.Hl))-this.getCurrentTime()<=1};
g.n.nextVideo=function(){this.Hl&&this.Hl.nextVideo()};
g.n.Cu=function(){this.Hl&&this.Hl.Cu()};
g.n.I1x=function(C){C===1&&(this.dB=this.Hl?TS(this.Hl):null)};
g.n.MZ5=function(){var C=VFF()?new QP(U9(),void 0):null;if(C){var m=this.ev;this.loaded&&this.unload();this.Hl=C;this.dB=null;m.key!==this.To.key&&(this.ev=m,this.load())}else g.hx(this.Hl),this.Hl=null,this.loaded&&(this.unload(),(C=this.dB)&&C.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(C.videoId,ji(C)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)};
g.n.ZQ=function(){var C=[this.To],m=C.concat,L=P6F();D6()&&g.BD("yt-remote-cast-available")&&L.push({key:"cast-selector-receiver",name:"Cast..."});this.HW=m.call(C,L);C=Grl()||this.To;RH(this,C);this.player.yF("onMdxReceiversChange")};
g.n.w0T=function(){var C=Grl();RH(this,C)};
g.n.dY4=function(){this.ev=Grl()};
g.n.zzx=function(){this.tE=!0;E9(this);zS=!1;Am&&pU(Am,1);Am=null};
g.n.Q9T=function(){this.tE=!1;E9(this);RH(this,this.To);this.ev=this.To;zS=!1;Am=null;this.player.playVideo()};
g.n.x5=function(C,m){switch(C){case "casting":return this.loaded;case "receivers":return this.HW;case "currentReceiver":return m&&(m.key==="cast-selector-receiver"?UqW():RH(this,m)),this.loaded?this.ev:this.To;case "quickCast":return this.HW.length===2&&this.HW[1].key==="cast-selector-receiver"?(m&&UqW(),!0):!1}};
g.n.CI=function(){this.Hl.CI()};
g.n.uQ=function(){return!1};
g.n.getOptions=function(){return["casting","receivers","currentReceiver","quickCast"]};
g.n.isLoggedIn=function(){var C,m;return((C=g.Wl("PLAYER_CONFIG"))==null?void 0:(m=C.args)==null?void 0:m.authuser)!==void 0?!0:!(!g.Wl("SESSION_INDEX")&&!g.Wl("LOGGED_IN"))};g.or("remote",B2z);})(_yt_player);
